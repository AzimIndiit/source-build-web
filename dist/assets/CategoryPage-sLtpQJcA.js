import{r as e,as as T,at as b,au as v,av as E,aw as N,j as a}from"./index-CUSVstqU.js";import{C as V,a as q}from"./CategoryModal-DI7WPGP9.js";import{P as F}from"./pagination-wrapper-Caj-HnEp.js";import"./index-7rtZR-0h.js";import"./table-DneWR9W7.js";import"./badge-c_xwgsXg.js";import"./date-utils-CIparGJB.js";import"./EmptyState-CH6fPGhV.js";import"./SearchInput-CIs23NSy.js";import"./SortDropdown-BZ2QEsue.js";import"./en-US-CPLesiGp.js";import"./isSameDay-CeY-boyx.js";import"./format-Byp0gi1d.js";import"./endOfMonth-B0jjArdg.js";import"./UserTableSkeleton-Dw2BkS24.js";import"./buyingEmptyState-C5ryqnDV.js";import"./arrow-up-down-BPvpXmMH.js";import"./ellipsis-vertical-CPx5VAQW.js";import"./layers-DUzS6LzX.js";import"./trash-2-BLdsFbCa.js";import"./imageValidation-BOnAwXS7.js";import"./upload-BVTc7vsb.js";const it=()=>{const[i,r]=e.useState(!1),[o,c]=e.useState(null),[n,g]=e.useState(1),[l]=e.useState(10),[s,x]=e.useState(""),f=e.useMemo(()=>{const t={page:n,limit:l};return s&&(t.search=s),t},[n,l,s]),{data:u,isLoading:M}=T(f),w=u?.data||[],m=u?.meta?.pagination?.pages||1,p=b(),d=v(),h=E(),y=N(),C=t=>{c(t||null),r(!0)},S=()=>{c(null),r(!1)},j=async t=>{o?await d.mutateAsync({id:o._id,data:t}):await p.mutateAsync(t),S()},A=async t=>{await h.mutateAsync(t)},D=async t=>{await y.mutateAsync(t)},L=t=>{x(t),g(1)},P=p.isPending||d.isPending||h.isPending||y.isPending,O=t=>{g(t)};return a.jsxs("div",{className:"container mx-auto py-6 px-4",children:[a.jsx(V,{title:"Categories",categories:w,onEdit:C,onDelete:A,onToggleStatus:D,isLoading:M,actionLoading:P,searchValue:s,onSearchChange:L,showSearch:!0,showSort:!1,showFilter:!1,onAddCategory:C}),m>1&&a.jsx("div",{className:"mt-2",children:a.jsx(F,{currentPage:n,totalPages:m,onPageChange:O})}),i&&a.jsx(q,{isOpen:i,onClose:S,onSubmit:j,category:o,isLoading:P,edit:!!o})]})};export{it as default};
