import{u as g,a as x,g as h,r as f,h as y,i as b,j as s,F as j,k as i,L as w,B as L,l as N,z as m}from"./index-CUSVstqU.js";import{A as S,l as v}from"./authSchemas-COhu3o_i.js";function F(){const r=g(),o=x(),{login:c}=h(),[d,t]=f.useState(!1),n=y({resolver:b(v),defaultValues:{email:"admin@yopmail.com",password:"Password@1",role:"admin"}}),{handleSubmit:u}=n,p=async a=>{t(!0);try{console.log("Login data:",a),console.log("Starting login process..."),await c(a.email,a.password,a.role);const e=N.getState().user,l=typeof o.state?.from=="string"?o.state.from:o.state?.from?.pathname||null;e?(e.role==="admin"&&r(l||"/admin/dashboard"),m.success("Login successful!")):r(l||"/")}catch(e){m.error(e.response.data.message),console.error("Login error:",e)}finally{t(!1)}};return s.jsx(S,{children:s.jsx(j,{...n,children:s.jsxs("form",{onSubmit:u(p),className:"space-y-6",children:[s.jsx("div",{className:"text-start",children:s.jsxs("h2",{className:"text-4xl font-bold text-gray-900",children:[s.jsx("strong",{children:" Welcome To "})," Source Build"]})}),s.jsx(i,{name:"email",label:"Email",type:"email",placeholder:"Enter your email",className:" text-base px-4 border-gray-300"}),s.jsx(i,{name:"password",label:"Password",type:"password",placeholder:"Enter your password",className:"text-base px-4 border-gray-300"}),s.jsx("div",{className:"text-end",children:s.jsx(w,{to:"/admin/auth/forgot-password",className:"text-primary hover:text-primary/80 font-medium",children:"Forgot Password?"})}),s.jsx(L,{type:"submit",className:"w-full  bg-primary   hover:bg-primary/80 text-white font-medium text-base",loading:d,children:"Login"})]})})})}export{F as default};
