import{r as M,j as e,K as I,ac as E,k as b,aI as ye,q as A,aN as Z,B as q,aO as ie,aM as G,f as be,z as Q,aP as je,aQ as ve,aR as ce,aS as Ne,aT as fe}from"./index-CUSVstqU.js";import{F as S}from"./FormSelect-DiVd6t5g.js";import{P as we}from"./PickupHoursSelector-C2PCOgFr.js";import{g as U}from"./colorUtils-BjIcJb6R.js";import{U as K}from"./upload-BVTc7vsb.js";import{T as ke}from"./trash-2-BLdsFbCa.js";import{B as P}from"./badge-c_xwgsXg.js";const Se=({methods:s,uploadedPhotos:g,existingImages:p=[],removeExistingImage:z,imageError:O,setImageError:N,addressOptions:X=[],showAddAddressModal:V,setShowAddAddressModal:H,variants:y,showVariants:T,handleDrag:$,handleDrop:f,handleFileChange:_,removePhoto:Y,addVariant:n,removeVariant:c,handleVariantImageUpload:d,removeVariantImage:B,removeExistingVariantImage:ee,handleVariantDrag:D,handleVariantDrop:se,dragActive:te,variantDragActive:ae,MAX_IMAGES:re,categoryOptions:ne,subCategoryOptions:oe,tagOptions:de,isLoading:C=!1})=>{const{watch:pe,setValue:j,clearErrors:F,formState:{errors:k},trigger:me}=s,o=pe(),[L,le]=M.useState(1),[R,J]=M.useState(null),W=r=>{const a=document.getElementById(r);a&&(a.scrollIntoView({behavior:"smooth",block:"center"}),a.classList.add("ring-2","ring-red-500"),setTimeout(()=>{a.classList.remove("ring-2","ring-red-500")},3e3))},xe=async()=>{if(p.length+g.length<2)return N(!0),Q.error("Please upload at least 2 product images"),W("photos"),!1;N(!1);const a={title:"title",price:"price",description:"description",category:"category",subCategory:"subCategory",quantity:"quantity",brand:"brand",color:"color",locationIds:"locationIds",productTag:"productTag"},t=["title","price","description","category","subCategory","quantity","brand","color","locationIds","availabilityRadius","productTag"];o.discount?.discountType&&o.discount.discountType!=="none"&&t.push("discount.discountValue"),y&&y.length>0&&y.forEach((l,m)=>{t.push(`variants.${m}.color`),t.push(`variants.${m}.quantity`),t.push(`variants.${m}.price`),t.push(`variants.${m}.priceType`);const w=o.variants?.[m]?.discount;w?.discountType&&w.discountType!=="none"&&t.push(`variants.${m}.discount.discountValue`)});const i=await me(t);if(!i){const l=k.discount;if(l?.discountValue)return Q.error(`Discount: ${l.discountValue.message}`),W("discount.discountValue"),!1;const m=k.variants;if(y.some((u,x)=>m?.[x]?.color||m?.[x]?.quantity||m?.[x]?.price||m?.[x]?.discount?.discountValue)){const u=y.findIndex((x,h)=>m?.[h]?.color||m?.[h]?.quantity||m?.[h]?.price||m?.[h]?.discount?.discountValue);if(u!==-1){const x=m?.[u];let h="",v="";x?.color?(h=`variants.${u}.color`,v=`Variant ${u+1}: ${x.color.message}`):x?.quantity?(h=`variants.${u}.quantity`,v=`Variant ${u+1}: ${x.quantity.message}`):x?.price?(h=`variants.${u}.price`,v=`Variant ${u+1}: ${x.price.message}`):x?.discount?.discountValue&&(h=`variants.${u}.discount.discountValue`,v=`Variant ${u+1}: ${x.discount.discountValue.message}`),v&&(Q.error(v),W(h))}}else{const u=t.find(x=>{if(x.startsWith("variants."))return!1;const h=x.split(".");let v=k;for(const ge of h)v=v?.[ge];return v});if(u){const x=u.split(".");let h=k;for(const v of x)h=h?.[v];h?.message&&(Q.error(h.message),W(a[u]||u))}}}return i},he=async()=>{await xe()&&(le(2),window.scrollTo({top:0,behavior:"smooth"}))},ue=()=>{le(1),window.scrollTo({top:0,behavior:"smooth"})};return e.jsxs("div",{className:"w-full h-full ",children:[e.jsxs(I,{className:"p-0 bg-white rounded-xl shadow-sm border-gray-200 h-full flex flex-col ",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 p-4 sm:p-6",children:[L===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Product Details"}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-3",id:"photos",children:e.jsxs("h3",{className:`text-sm font-medium ${O?"text-red-600":"text-gray-900"}`,children:["Photos · ",p.length+g.length,"/",re," - Minimum 2, maximum ",re," photos required.",e.jsx("span",{className:"text-red-500",children:"*"})]})}),p.length===0&&g.length===0?e.jsxs("div",{className:`border-2 border-dashed rounded-xl p-6 text-center ${O?"bg-red-50":"bg-gray-50"} ${te?"border-primary bg-blue-50":O?"border-red-300":"border-gray-300"}`,onDragEnter:$,onDragLeave:$,onDragOver:$,onDrop:f,children:[e.jsx("input",{type:"file",id:"photo-upload",className:"hidden",multiple:!0,accept:"image/*",onChange:_}),e.jsxs("label",{htmlFor:"photo-upload",className:"cursor-pointer inline-flex flex-col items-center",children:[e.jsx(K,{className:"h-10 w-10 text-gray-400 mb-3"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Drag & drop media or"," ",e.jsx("span",{className:"text-primary underline",children:"click here"})]}),e.jsx("span",{className:"text-xs text-red-600",children:"Max file size is 5MB"})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:`border-2 border-dashed rounded-xl p-4 text-center bg-gray-50 ${te?"border-primary bg-blue-50":"border-gray-300"}`,onDragEnter:$,onDragLeave:$,onDragOver:$,onDrop:f,children:[e.jsx("input",{type:"file",id:"photo-upload-more",className:"hidden",multiple:!0,accept:"image/*",onChange:_}),e.jsxs("label",{htmlFor:"photo-upload-more",className:"cursor-pointer inline-flex items-center gap-2",children:[e.jsx(K,{className:"h-5 w-5 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Drag & drop media or"," ",e.jsx("span",{className:"text-primary underline",children:"click here"})]})]}),e.jsx("div",{className:"text-xs text-red-600",children:"Max file size is 5MB"})]}),e.jsxs("div",{className:"grid grid-cols-3 lg:grid-cols-5 gap-2",children:[p.map((r,a)=>e.jsxs("div",{className:"relative group border border-gray-200 rounded-sm shadow-sm",children:[e.jsx("img",{src:r,alt:`Existing ${a+1}`,className:"w-full h-20 sm:h-24 md:h-28 lg:h-16 object-cover rounded-sm"}),z&&e.jsx("button",{type:"button",onClick:()=>z(a),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-0.5 cursor-pointer",children:e.jsx(E,{className:"h-3 w-3"})})]},`existing-${a}`)),g.map((r,a)=>e.jsxs("div",{className:"relative group border border-gray-200 rounded-sm shadow-sm",children:[e.jsx("img",{src:URL.createObjectURL(r),alt:`Upload ${a+1}`,className:"w-full h-20 sm:h-24 md:h-28 lg:h-16 object-cover rounded-sm"}),e.jsx("button",{type:"button",onClick:()=>Y(a),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-0.5 cursor-pointer",children:e.jsx(E,{className:"h-3 w-3"})})]},`upload-${a}`))]})]}),O&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:"At least 2 images are required"})]}),e.jsx("div",{className:"",children:e.jsx(b,{id:"title",name:"title",label:"Title",placeholder:"Primed MDF 3.25″ Casing, 7′ x 1/2",className:"border-gray-300 h-[53px] "})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(b,{id:"price",name:"price",label:`Price${o.priceType==="sqft"?" ($ / sq ft)":o.priceType==="linear"?" ($ / linear foot)":o.priceType==="pallet"?" ($ / pallet)":" ($ / sq ft)"}`,placeholder:`$0.00 / ${o.priceType==="sqft"?"sq ft":o.priceType==="linear"?"linear foot":o.priceType==="pallet"?"pallet":"sq ft"}`,type:"text",className:"border-gray-300 h-[53px]",onInput:r=>{const a=r.currentTarget,i=a.value.replace(/[^0-9.]/g,""),l=i.split(".");l.length>2?a.value=l[0]+"."+l.slice(1).join(""):l.length===2&&l[1].length>2?a.value=l[0]+"."+l[1].substring(0,2):a.value=i}})}),e.jsx("div",{children:e.jsx(S,{name:"priceType",label:"Price Type",placeholder:"Select price type",className:"border-gray-300 h-[53px]",options:[{value:"sqft",label:"Square Foot"},{value:"linear",label:"Linear Foot"},{value:"pallet",label:"Pallet"}]})})]}),e.jsx("div",{children:e.jsx(ye,{id:"description",name:"description",label:"Description",placeholder:"Lorem ipsum dolor sit amet, consectetur adipiscing elit.",rows:3,className:"border-gray-300 resize-none rounded-sm"})}),e.jsx("div",{id:"category",children:e.jsx(S,{name:"category",label:"Category",placeholder:"Select Category",options:ne,className:"h-[53px]",searchable:!0})}),e.jsxs("div",{id:"subCategory",children:[e.jsx(S,{name:"subCategory",label:"Sub Category",placeholder:o.category?"Select Sub Category":"Select category first",options:oe,className:"h-[53px]",disabled:!o.category,searchable:!0,createPlaceholder:'Add "{search}" as custom subcategory'}),!o.category&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a category first"})]}),e.jsxs("div",{id:"quantity",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"Quantity"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{htmlFor:"outOfStock",className:"text-sm text-gray-600",children:"Out of Stock"}),e.jsx(Z,{id:"outOfStock",className:"h-6 w-12",checked:o.outOfStock||!1,onCheckedChange:r=>{j("outOfStock",r),o?.quantity===""&&(j("quantity","0"),F("quantity"))}})]})]}),e.jsx(b,{name:"quantity",label:"",placeholder:"2",type:"number",className:"border-gray-300 h-[53px]",min:"0",step:"1",disabled:o.outOfStock,onInput:r=>{const a=r.currentTarget,t=a.value.replace(/[^0-9]/g,"");t==="0"?a.value="0":a.value=t.replace(/^0+/,"")||""},onKeyDown:r=>{[".","-","+","e","E"].includes(r.key)&&r.preventDefault()}})]}),e.jsx("div",{children:e.jsx(b,{id:"brand",name:"brand",label:"Brand",placeholder:"Styling",className:"border-gray-300 h-[53px]"})}),e.jsx("div",{id:"color",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(b,{name:"color",label:"Color (HEX)",type:"text",placeholder:"#FF0000",className:"flex-1 h-[53px]",pattern:"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$",maxLength:7,onInput:r=>{const a=r.currentTarget;let t=a.value.toUpperCase();t.length===1&&t!=="#"&&/[A-Fa-f0-9]/.test(t)&&(t="#"+t),t=t.replace(/[^#A-Fa-f0-9]/g,""),t.indexOf("#")>0&&(t="#"+t.replace(/#/g,"")),a.value=t,F("color")}}),e.jsx("input",{type:"color",value:o.color||"",onChange:r=>j("color",r.target.value),className:`w-[53px] h-[53px] ${k.color?"mt-0":"mt-5"} rounded border border-gray-300 cursor-pointer flex-shrink-0`})]}),o.color&&o.color.length>=4&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1 ml-1 capitalize",children:["Color: ",U(o.color).name]})]})}),e.jsxs("div",{className:"space-y-3",id:"locationIds",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Locations"}),e.jsxs(q,{type:"button",onClick:()=>{H&&H(!0)},variant:"outline",className:"flex items-center gap-2 text-sm h-[48px] border border-primary text-primary hover:text-primary hover:bg-primary/10",children:[e.jsx(ie,{className:"h-4 w-4"}),"Add Location"]})]}),e.jsx(S,{name:"locationIds",label:"",placeholder:"Select locations for this product",options:X,multiple:!0,searchable:!0,searchPlaceholder:"Search locations...",className:"border-gray-300 h-[59px]"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Product Dimensions (Optional)"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:[e.jsx(b,{name:"dimensions.width",label:"Width (inches)",placeholder:"24",type:"text",className:"border-gray-300 h-[53px]",onInput:r=>{const a=r.currentTarget,i=a.value.replace(/[^0-9.]/g,""),l=i.split(".");l.length>2?a.value=l[0]+"."+l.slice(1).join(""):l.length===2&&l[1].length>2?a.value=l[0]+"."+l[1].substring(0,2):a.value=i}}),e.jsx(b,{name:"dimensions.length",label:"Length (inches)",placeholder:"36",type:"text",className:"border-gray-300 h-[53px]",onInput:r=>{const a=r.currentTarget,i=a.value.replace(/[^0-9.]/g,""),l=i.split(".");l.length>2?a.value=l[0]+"."+l.slice(1).join(""):l.length===2&&l[1].length>2?a.value=l[0]+"."+l[1].substring(0,2):a.value=i}}),e.jsx(b,{name:"dimensions.height",label:"Height (inches)",placeholder:"30",type:"text",className:"border-gray-300 h-[53px]",onInput:r=>{const a=r.currentTarget,i=a.value.replace(/[^0-9.]/g,""),l=i.split(".");l.length>2?a.value=l[0]+"."+l.slice(1).join(""):l.length===2&&l[1].length>2?a.value=l[0]+"."+l[1].substring(0,2):a.value=i}})]})]}),e.jsx("div",{id:"productTag",children:e.jsx(S,{name:"productTag",label:"Product Tag",placeholder:"Select or create tags",options:de,multiple:!0,searchable:!0,creatable:!0,className:"h-[53px]",createPlaceholder:'Add "{search}" as a new tag',searchPlaceholder:"Type to search or create tags...",maxSelections:10})}),e.jsxs("div",{className:"border-t border-gray-200 pt-4 mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-base font-medium text-gray-900",children:["Product Variants",e.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",y.length,"/5)"]})]}),e.jsxs(q,{type:"button",onClick:n,variant:"outline",className:"flex items-center gap-2 text-sm h-[48px] border border-primary text-primary hover:text-primary hover:bg-primary/10",disabled:y.length>=5,children:[e.jsx(ie,{className:"h-4 w-4"}),"Add Variant"]})]}),T&&y.length>0&&e.jsx("div",{className:"space-y-4",children:y.map((r,a)=>e.jsxs(I,{className:"p-4 border-2 border-gray-200 shadow-md gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between h-10",children:[e.jsxs("h4",{className:"font-medium text-sm",children:["Variant ",a+1]}),e.jsx(q,{type:"button",onClick:()=>J(r.id),variant:"ghost",className:"text-red-500 hover:text-red-700 p-1 h-10",children:e.jsx(ke,{className:"h-4 w-4"})})]}),e.jsx("hr",{className:"my-0 py-0 text-gray-200"}),e.jsxs("div",{className:"my-3",children:[e.jsx("label",{className:"text-xs font-medium text-gray-700 mb-2 block",children:"Variant Images (Max 5)"}),r.images.length===0&&(!r.existingImages||r.existingImages.length===0)?e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-4 text-center bg-gray-50 ${ae===r.id?"border-primary bg-blue-50":"border-gray-300"}`,onDragEnter:t=>{t.preventDefault(),t.stopPropagation(),D(t,r.id)},onDragLeave:t=>{t.preventDefault(),t.stopPropagation(),D(t,r.id)},onDragOver:t=>{t.preventDefault(),t.stopPropagation(),D(t,r.id)},onDrop:t=>{t.preventDefault(),t.stopPropagation(),se(t,r.id)},children:[e.jsx("input",{type:"file",id:`variant-photo-upload-${r.id}`,className:"hidden",multiple:!0,accept:"image/*",onChange:t=>{if(t.target.files){const i=Array.from(t.target.files);d(r.id,i)}t.target.value=""}}),e.jsxs("label",{htmlFor:`variant-photo-upload-${r.id}`,className:"cursor-pointer inline-flex flex-col items-center",children:[e.jsx(K,{className:"h-8 w-8 text-gray-400 mb-2"}),e.jsxs("span",{className:"text-xs text-gray-600",children:["Drag & drop media or"," ",e.jsx("span",{className:"text-primary underline",children:"click here"})]}),e.jsx("span",{className:"text-xs text-red-600",children:"Max file size is 5MB"})]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-3 text-center bg-gray-50 ${ae===r.id?"border-primary bg-blue-50":"border-gray-300"}`,onDragEnter:t=>{t.preventDefault(),t.stopPropagation(),D(t,r.id)},onDragLeave:t=>{t.preventDefault(),t.stopPropagation(),D(t,r.id)},onDragOver:t=>{t.preventDefault(),t.stopPropagation(),D(t,r.id)},onDrop:t=>{t.preventDefault(),t.stopPropagation(),se(t,r.id)},children:[e.jsx("input",{type:"file",id:`variant-photo-upload-more-${r.id}`,className:"hidden",multiple:!0,accept:"image/*",onChange:t=>{if(t.target.files){const i=Array.from(t.target.files);d(r.id,i)}t.target.value=""}}),e.jsxs("label",{htmlFor:`variant-photo-upload-more-${r.id}`,className:"cursor-pointer inline-flex items-center gap-2",children:[e.jsx(K,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-xs text-gray-600",children:["Drag & drop media or"," ",e.jsx("span",{className:"text-primary underline",children:"click here"})]})]}),e.jsx("div",{className:"text-xs text-red-600",children:"Max file size is 5MB"})]}),e.jsxs("div",{className:"grid grid-cols-3 lg:grid-cols-5 gap-2",children:[r.existingImages?.map((t,i)=>e.jsxs("div",{className:"relative group border border-gray-200 rounded-sm shadow-sm",children:[e.jsx("img",{src:t,alt:`Variant ${a+1} Existing ${i+1}`,className:"w-full sm:h-24 md:h-28  h-20 lg:h-16 object-cover rounded-sm"}),ee&&e.jsx("button",{type:"button",onClick:()=>ee(r.id,i),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-0.5 cursor-pointer",children:e.jsx(E,{className:"h-3 w-3"})})]},`existing-${i}`)),r.images.map((t,i)=>e.jsxs("div",{className:"relative group border border-gray-200 rounded-sm shadow-sm",children:[e.jsx("img",{src:URL.createObjectURL(t),alt:`Variant ${a+1} Image ${i+1}`,className:"w-full sm:h-24 md:h-28  h-20 lg:h-16 object-cover rounded-sm"}),e.jsx("button",{type:"button",onClick:()=>B(r.id,i),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-0.5 cursor-pointer",children:e.jsx(E,{className:"h-3 w-3"})})]},i))]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{id:`variants.${a}.color`,name:`variants.${a}.color`,label:"Color (HEX)",type:"text",placeholder:"#FF0000",className:"flex-1 h-[53px]",pattern:"^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$",maxLength:7,onInput:t=>{const i=t.currentTarget;let l=i.value.toUpperCase();l.length===1&&l!=="#"&&/[A-Fa-f0-9]/.test(l)&&(l="#"+l),l=l.replace(/[^#A-Fa-f0-9]/g,""),l.indexOf("#")>0&&(l="#"+l.replace(/#/g,"")),i.value=l}}),e.jsx("input",{type:"color",value:o.variants?.[a]?.color||"",onChange:t=>j(`variants.${a}.color`,t.target.value),className:"w-[53px] h-[53px] mt-5 rounded border border-gray-300 cursor-pointer flex-shrink-0"})]}),o.variants?.[a]?.color&&o.variants[a].color.length>=4&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1 ml-1 capitalize",children:["Color:"," ",U(o.variants[a].color).name]})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(A,{className:"text-sm font-medium",children:"Quantity"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{htmlFor:`variant-out-of-stock-${a}`,className:"text-xs text-gray-600",children:"Out of Stock"}),e.jsx(Z,{id:`variant-out-of-stock-${a}`,className:"h-6 w-12",checked:o.variants?.[a]?.outOfStock||!1,onCheckedChange:t=>{j(`variants.${a}.outOfStock`,t),o.variants?.[a]?.quantity===""&&(j(`variants.${a}.quantity`,"0"),F(`variants.${a}.quantity`))}})]})]}),e.jsx(b,{id:`variants.${a}.quantity`,name:`variants.${a}.quantity`,label:"",placeholder:"10",type:"number",className:"text-sm",min:"0",step:"1",disabled:o.variants?.[a]?.outOfStock,onInput:t=>{const i=t.currentTarget,l=i.value.replace(/[^0-9]/g,"");l==="0"?i.value="0":i.value=l.replace(/^0+/,"")||""},onKeyDown:t=>{[".","-","+","e","E"].includes(t.key)&&t.preventDefault()}})]}),e.jsx("div",{children:e.jsx(b,{id:`variants.${a}.price`,name:`variants.${a}.price`,label:`Price${o.priceType==="sqft"?" ($ / sq ft)":o.priceType==="linear"?" ($ / linear foot)":o.priceType==="pallet"?" ($ / pallet)":" ($)"}`,placeholder:`$0.00${o.variants?.[a]?.priceType?` / ${o.variants?.[a]?.priceType==="sqft"?"sq ft":o.variants?.[a]?.priceType==="linear"?"linear foot":"pallet"}`:""}`,type:"text",className:"text-sm",onInput:t=>{const i=t.currentTarget,m=i.value.replace(/[^0-9.]/g,""),w=m.split(".");w.length>2?i.value=w[0]+"."+w.slice(1).join(""):w.length===2&&w[1].length>2?i.value=w[0]+"."+w[1].substring(0,2):i.value=m}})})]})]})]},r.id))}),!T&&e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"Add variants to offer different options like colors, sizes, or styles for your product."})]})]}),L===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("h3",{className:"text-base font-medium text-gray-900",children:"Marketplace"}),e.jsxs("div",{className:"sm:space-y-2 flex flex-row sm:flex-col gap-2 items-center sm:items-start ",children:[e.jsxs("label",{htmlFor:"pickup",className:"flex items-center space-x-3 p-2 m-0 rounded-md cursor-pointer hover:bg-gray-50",children:[e.jsx(G,{id:"pickup",checked:o.marketplaceOptions?.pickup||!1,disabled:C,onCheckedChange:r=>{j("marketplaceOptions",{...o.marketplaceOptions,pickup:r}),F("marketplaceOptions")},className:"h-5 w-5 border-gray-300"}),e.jsx("span",{className:"text-sm font-medium leading-none",children:"Pickup"})]}),e.jsxs("label",{htmlFor:"shipping",className:"flex items-center space-x-3 p-2 m-0 rounded-md cursor-pointer hover:bg-gray-50",children:[e.jsx(G,{id:"shipping",checked:o.marketplaceOptions?.shipping||!1,disabled:C,onCheckedChange:r=>{j("marketplaceOptions",{...o.marketplaceOptions,shipping:r}),j("shippingPrice","200"),F("marketplaceOptions")},className:"h-5 w-5 border-gray-300"}),e.jsx("span",{className:"text-sm font-medium leading-none",children:"Shipping"})]}),e.jsxs("label",{htmlFor:"delivery",className:"flex items-center space-x-3 p-2 rounded-md cursor-pointer hover:bg-gray-50",children:[e.jsx(G,{id:"delivery",checked:o.marketplaceOptions?.delivery||!1,disabled:C,onCheckedChange:r=>{j("marketplaceOptions",{...o.marketplaceOptions,delivery:r}),F("marketplaceOptions")},className:"h-5 w-5 border-gray-300"}),e.jsx("span",{className:"text-sm font-medium leading-none",children:"Local Delivery"})]})]}),o.marketplaceOptions?.delivery&&e.jsxs("div",{className:"mt-4 pl-8",children:[e.jsx(b,{disabled:o.localDeliveryFree,name:"deliveryDistance",label:"Delivery Distance (miles)",type:"text",placeholder:"e.g., 25",onInput:r=>{const a=r.currentTarget;let t=a.value.replace(/[^0-9.]/g,"");const i=t.split(".");i.length>2?(i[0]=i[0].replace(/^0+(?=\d)/,"")||"0",a.value=i[0]+"."+i.slice(1).join("")):i.length===2?(i[0]=i[0].replace(/^0+(?=\d)/,"")||"0",i[1]=i[1].substring(0,2),a.value=i[0]+"."+i[1]):a.value=t.replace(/^0+(?=\d)/,"")||"0"},className:"h-[53px]",hint:"Maximum delivery distance in miles"}),e.jsxs("div",{className:"flex items-center mt-2 justify-end gap-1",children:[e.jsx(A,{htmlFor:"delivery-for-free",className:"text-xs text-gray-600",children:"Local Delivery Free"}),e.jsx(Z,{id:"delivery-for-free",className:"h-6 w-12",checked:o.localDeliveryFree||!1,onCheckedChange:r=>{j("localDeliveryFree",r)}})]})]}),k.marketplaceOptions&&e.jsx("p",{className:"text-red-500",children:typeof k.marketplaceOptions=="object"&&"message"in k.marketplaceOptions?k.marketplaceOptions.message:"At least one marketplace option is required"})]}),o.marketplaceOptions?.pickup&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"border-gray-200 my-4"}),e.jsxs("div",{className:"mb-4 mt-2",children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-900",children:"Pickup Hours"}),e.jsx(we,{value:o.pickupHours,onChange:r=>j("pickupHours",r)})]})]}),o.marketplaceOptions?.shipping&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"border-gray-200 my-4"}),e.jsx("div",{className:"mb-4",children:e.jsx(b,{disabled:!0,name:"shippingPrice",label:"Shipping Price ($)",placeholder:"$10.00",type:"text",className:"border-gray-300 h-[53px]",onInput:r=>{const a=r.currentTarget,i=a.value.replace(/[^0-9.]/g,""),l=i.split(".");l.length>2?a.value=l[0]+"."+l.slice(1).join(""):l.length===2&&l[1].length>2?a.value=l[0]+"."+l[1].substring(0,2):a.value=i}})})]}),e.jsx("hr",{className:"border-gray-200 my-4"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Ready By"}),e.jsx("div",{children:e.jsx(S,{disabled:C,name:"readyByDays",label:"Ready By Days",placeholder:"Select days",options:Array.from({length:61},(r,a)=>({value:a.toString(),label:a===0?"Ready Today":a===1?"1 Day":`${a} Days`})),className:"border-gray-300 h-[53px]"})})]})]})]}),e.jsxs("div",{className:"pt-4 space-y-4 flex-shrink-0 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:`h-1 flex-1 ${L>=1?"bg-primary":"bg-gray-200"} rounded-full`}),e.jsx("div",{className:`h-1 flex-1 ${L>=2?"bg-primary":"bg-gray-200"} rounded-full`})]}),L===1?e.jsx(q,{type:"button",onClick:he,className:"w-full bg-gray-200 h-[48px] hover:bg-gray-300 text-gray-700 font-medium py-3 rounded-lg",children:"Next"}):e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(q,{type:"button",disabled:C,onClick:ue,className:"bg-gray-200 h-[48px] hover:bg-gray-300 text-gray-700 font-medium py-3 rounded-lg",children:"Back"}),e.jsx(q,{disabled:C,type:"submit",className:"bg-primary h-[48px] hover:bg-primary/80 text-white font-medium py-3 rounded-lg",children:C?"Publishing...":"Publish"})]})]})]}),e.jsx(be,{isOpen:!!R,onClose:()=>J(null),onConfirm:()=>{if(R)try{c(R)}catch(r){console.error("Error removing variant:",r)}finally{J(null)}},title:"Delete Variant?",description:`Are you sure you want to delete Variant ${R?y.findIndex(r=>r.id===R)+1:""}? This action cannot be undone.`,confirmText:"Delete Variant",cancelText:"Cancel"})]})},Pe=({formValues:s,uploadedPhotos:g,existingImages:p=[],addressOptions:z=[],savedAddresses:O=[],variants:N,categoryOptions:X,subCategoryOptions:V,tagOptions:H,handleBackClick:y})=>{const[T,$]=M.useState(0),[f,_]=M.useState();M.useEffect(()=>{f&&f.on("select",()=>{$(f.selectedScrollSnap())})},[f]);const Y=s.discount?.discountType==="percentage"&&s.discount?.discountValue?(parseFloat(s.price)*(1-parseFloat(s.discount.discountValue)/100)).toFixed(2):s.discount?.discountType==="flat"&&s.discount?.discountValue?(parseFloat(s.price)-parseFloat(s.discount.discountValue)).toFixed(2):s.price;return e.jsx("div",{className:"w-full lg:flex-1 h-full ",children:e.jsxs(I,{className:"p-4 sm:p-6 border-gray-200 h-full flex flex-col rounded-none border-none lg:border lg:rounded-sm ",children:[e.jsxs("div",{className:"flex  justify-between items-center gap-2 border-b border-gray-200 pb-4 ",children:[e.jsxs("div",{className:"",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-700",children:"Preview"}),e.jsx("p",{className:"text-sm text-gray-500",children:"See how your listing will appear"})]}),y&&e.jsx("button",{type:"button",onClick:y,className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(E,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex-1 flex flex-col gap-4 lg:gap-0 lg:flex-row rounded-lg overflow-hidden min-h-0",children:[e.jsx("div",{className:"w-full  lg:w-3/5  lg:h-full rounded-sm overflow-hidden  lg:rounded-e-none",children:p.length+g.length>=2?e.jsxs(je,{setApi:_,className:" min-h-[300px] min-w-[300px] rounded-sm w-full  flex-col lg:flex-row  lg:rounded-e-none lg:h-full bg-[#A9A9A9]   lg:rounded-l-lg  lg:py-20 lg:px-12 relative flex items-center ",children:[e.jsxs(ve,{children:[p.map((n,c)=>e.jsx(ce,{children:e.jsx("div",{className:"aspect-square relative  overflow-hidden border rounded-sm border-gray-400 shadow-2xl",children:e.jsx("img",{src:n,alt:`Product ${c+1}`,className:"w-full h-full object-cover "})})},`existing-${c}`)),g.map((n,c)=>e.jsx(ce,{children:e.jsx("div",{className:"aspect-square relative  overflow-hidden border rounded-sm border-gray-400 shadow-2xl",children:e.jsx("img",{src:URL.createObjectURL(n),alt:`Product ${p.length+c+1}`,className:"w-full h-full object-cover"})})},`upload-${c}`))]}),p.length+g.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"left-0 lg:left-[49px] bg-white shadow-md border-none hover:bg-gray-50 h-12 sm:h-16 md:h-20 rounded-l-sm"}),e.jsx(fe,{className:"right-0 lg:right-[49px] bg-white border-none shadow-md hover:bg-gray-50 h-12 sm:h-16 md:h-20 rounded-r-sm"})]}),e.jsx("div",{className:"hidden sm:flex absolute   bottom-10 md:bottom-20 justify-center items-center text-white z-10 left-0 flex gap-2 w-full px-2",children:e.jsxs("div",{className:"flex gap-1 sm:gap-2 m-0 overflow-x-auto max-w-full",children:[p.map((n,c)=>e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 flex-shrink-0 cursor-pointer",onClick:()=>f?.scrollTo(c),children:e.jsx("img",{src:n,alt:`Product ${c+1}`,className:`${c===T?"border-2 border-primary shadow-2xl":"border-2 border-transparent"} w-full h-full object-cover rounded-sm transition-all duration-200 hover:border-primary/50`})},`existing-thumb-${c}`)),g.map((n,c)=>e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 flex-shrink-0 cursor-pointer",onClick:()=>f?.scrollTo(p.length+c),children:e.jsx("img",{src:URL.createObjectURL(n),alt:`Product ${p.length+c+1}`,className:`${p.length+c===T?"border-2 border-primary shadow-2xl":"border-2 border-transparent"} w-full h-full object-cover rounded-sm transition-all duration-200 hover:border-primary/50`})},`upload-thumb-${c}`))]})})]}):e.jsx("div",{className:"h-full bg-gray-100 rounded-t-lg sm:rounded-t-none sm:rounded-l-lg flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-600",children:"Your listing Preview"}),e.jsx("p",{className:"text-sm sm:text-base mt-4 text-red-500 font-medium",children:"Minimum 2 images required for preview"}),p.length+g.length===1&&e.jsxs("p",{className:"text-xs sm:text-sm mt-2 text-gray-500",children:["Please add ",2-(p.length+g.length)," more image(s) to see the preview"]}),p.length+g.length===0&&e.jsx("p",{className:"text-xs sm:text-sm mt-2 text-gray-500",children:"Please add at least 2 images to see how your listing will appear"})]})})}),e.jsx("div",{className:" sm:hidden justify-center items-center  flex gap-2 w-full px-2",children:e.jsxs("div",{className:"flex gap-1 sm:gap-2 m-0 overflow-x-auto max-w-full",children:[p.map((n,c)=>e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 flex-shrink-0 cursor-pointer",onClick:()=>f?.scrollTo(c),children:e.jsx("img",{src:n,alt:`Product ${c+1}`,className:`${c===T?"border-2 border-primary shadow-2xl":"border-2 border-transparent"} w-full h-full object-cover rounded-sm transition-all duration-200 hover:border-primary/50`})},`existing-thumb-${c}`)),g.map((n,c)=>e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 flex-shrink-0 cursor-pointer",onClick:()=>f?.scrollTo(p.length+c),children:e.jsx("img",{src:URL.createObjectURL(n),alt:`Product ${p.length+c+1}`,className:`${p.length+c===T?"border-2 border-primary shadow-2xl":"border-2 border-transparent"} w-full h-full object-cover rounded-sm transition-all duration-200 hover:border-primary/50`})},`upload-thumb-${c}`))]})}),e.jsxs("div",{className:"w-full lg:w-2/5 p-3 sm:p-4 md:p-6 border border-gray-200 rounded-sm lg:rounded-l-none lg:rounded-r-lg lg:overflow-y-auto min-h-0",children:[e.jsxs("div",{className:"pb-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-gray-900 mb-2",children:s.title||"Product Title"}),e.jsxs("div",{className:"flex  items-baseline gap-2",children:[e.jsx("div",{className:"text-xl font-medium text-gray-900 max-content",children:s.discount?.discountType!=="none"&&s.discount?.discountValue?e.jsxs("div",{className:"flex gap-2 items-center ",children:[e.jsxs("div",{className:"text-xs text-gray-500 line-through",children:["$",s.price,s.priceType&&e.jsxs("span",{className:"text-xs",children:["/",s.priceType==="sqft"?"sq ft":s.priceType==="linear"?"linear ft":"pallet"]})]}),e.jsxs("div",{className:"text-sm font-bold text-primary",children:["$",Y||"0.00",s.priceType&&e.jsxs("span",{className:"text-xs",children:["/",s.priceType==="sqft"?"sq ft":s.priceType==="linear"?"linear ft":"pallet"]})]}),e.jsx(P,{variant:"destructive",className:"text-xs bg-primary text-white",children:s.discount.discountType==="percentage"?`${s.discount.discountValue}% OFF`:`$${s.discount.discountValue} OFF`})]}):e.jsxs("div",{className:"text-sm font-bold text-primary",children:["$",s.price||"0.00",s.priceType&&e.jsxs("span",{className:"text-xs",children:["/",s.priceType==="sqft"?"sq ft":s.priceType==="linear"?"linear ft":"pallet"]})]})}),s.category&&e.jsxs("div",{className:"text-gray-600",children:["/"," ",X.find(n=>n.value===s.category)?.label||(typeof s.category=="string"?s.category:s.category.name)]}),s.discount?.discountType!=="none"&&s.discount?.discountValue&&e.jsx(P,{variant:"destructive",className:"text-xs ml-2",children:s.discount.discountType==="percentage"?`${s.discount.discountValue}% OFF`:`$${s.discount.discountValue} OFF`})]})]}),s.subCategory&&e.jsxs("div",{className:"py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 mb-1 sm:mb-2",children:"Sub Category"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:V.find(n=>n.value===s.subCategory)?.label||s.subCategory})]}),(s.quantity||s.outOfStock)&&e.jsxs("div",{className:"py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 mb-1 sm:mb-2",children:"Quantity"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:s.outOfStock?e.jsx(P,{variant:"destructive",className:"bg-red-500 text-white",children:"Out of Stock"}):s.quantity})]}),s.brand&&e.jsxs("div",{className:"py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 mb-1 sm:mb-2",children:"Brand"}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:s.brand})]}),(s.color||N.length>0&&s.variants&&s.variants.some(n=>n.color))&&e.jsxs("div",{className:"py-4 border-b border-gray-200",children:[e.jsxs("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 mb-1 sm:mb-2",children:["Color",N.length>0&&s.variants&&s.variants.filter(n=>n.color).length>0?"s":""]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.color&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300 shadow-sm",style:{backgroundColor:s.color}}),e.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600 capitalize",children:U(s.color).name})]}),N.length>0&&s.variants&&s.variants.filter(n=>n.color).map((n,c)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300 shadow-sm",style:{backgroundColor:n.color}}),e.jsx("span",{className:"text-xs sm:text-sm md:text-base text-gray-600 capitalize",children:U(n.color).name})]},c))]})]}),e.jsxs("div",{className:"py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 mb-1 sm:mb-2",children:"Product Tag"}),s.productTag&&s.productTag.length>0?e.jsx("div",{className:"flex flex-wrap gap-2",children:s.productTag.map((n,c)=>e.jsx(P,{variant:"secondary",className:"bg-blue-50 text-primary border border-blue-200 hover:bg-blue-100",children:typeof n=="string"?n:H.find(d=>d.value===n)?.label||n},c))}):"Tags will appear here"]}),e.jsxs("div",{className:"py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 mb-1 sm:mb-2",children:"Dimensions"}),s.dimensions?.width||s.dimensions?.length||s.dimensions?.height?e.jsxs("p",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:[s.dimensions.width&&`W: ${s.dimensions.width}"`,s.dimensions.width&&s.dimensions.length&&" × ",s.dimensions.length&&`L: ${s.dimensions.length}"`,s.dimensions.length&&s.dimensions.height&&" × ",s.dimensions.height&&`H: ${s.dimensions.height}"`]}):"Dimensions will appear here"]}),e.jsxs("div",{className:"py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 mb-1 sm:mb-2",children:s.locationIds.length>1?"Locations":"Location"}),s.locationIds&&s.locationIds.length>0?e.jsx("div",{className:"space-y-3",children:s.locationIds.map(n=>{const c=O.find(d=>(d.id||d._id)===n);if(!c){const d=z.find(B=>B.value===n);return e.jsx("div",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:e.jsx("p",{className:"font-medium",children:d?.label||n})},n)}return e.jsxs("div",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:[e.jsx("p",{className:"font-medium",children:c.name}),e.jsx("p",{className:"text-gray-500 mt-1",children:c.formattedAddress}),s.availabilityRadius&&e.jsxs("p",{className:"text-gray-500 mt-1",children:["Delivery within ",s.availabilityRadius," km"]})]},n)})}):"Locations will appear here"]}),e.jsxs("div",{className:"py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 mb-1 sm:mb-2",children:"Delivery Options"}),s.marketplaceOptions?.pickup||s.marketplaceOptions?.shipping||s.marketplaceOptions?.delivery?e.jsxs("div",{className:"space-y-2",children:[s.marketplaceOptions?.pickup&&e.jsxs("div",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Pickup"}),s.pickupHours&&e.jsxs("span",{children:[": ",s.pickupHours]})]}),s.marketplaceOptions?.shipping&&e.jsxs("div",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Shipping"}),s.shippingPrice&&e.jsxs("span",{children:[": $",s.shippingPrice]})]}),s.marketplaceOptions?.delivery&&e.jsxs("div",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Local Delivery"}),s.marketplaceOptions?.deliveryDistance&&e.jsxs("span",{children:[": Within ",s.marketplaceOptions.deliveryDistance," miles"]})]})]}):"Delivery Options will appear here"]}),e.jsxs("div",{className:"py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 mb-1 sm:mb-2",children:"Ready By"}),s.readyByDays!==void 0||s.readyByDate||s.readyByTime?e.jsxs("p",{className:"text-xs sm:text-sm md:text-base text-gray-600",children:[s.readyByDays!==void 0&&s.readyByDays!=="0"&&e.jsx("span",{className:"font-medium",children:s.readyByDays==="1"?"1 Day":`${s.readyByDays} Days`}),s.readyByDays==="0"&&e.jsxs("span",{className:"font-medium",children:["Ready Today",s.readyByDate||s.readyByTime]})]}):"Ready By will appear here"]}),e.jsxs("div",{className:"py-4",children:[e.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900 mb-1 sm:mb-2",children:"Description"}),s.description?e.jsx("p",{className:"text-xs sm:text-sm md:text-base text-gray-600 leading-relaxed whitespace-pre-line",children:s.description}):"Description will appear here"]}),N.length>0?e.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:["Available Variants (",N.filter((n,c)=>s.variants?.[c]?.color&&s.variants?.[c]?.price&&(s.variants?.[c]?.quantity||s.variants?.[c]?.outOfStock)).length,")"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[N.map((n,c)=>{const d=s.variants?.[c];if(!d?.color||!d?.price||!d?.quantity&&!d?.outOfStock)return null;const B=d.discount?.discountType==="percentage"&&d.discount?.discountValue?(parseFloat(d.price)*(1-parseFloat(d.discount.discountValue)/100)).toFixed(2):d.discount?.discountType==="flat"&&d.discount?.discountValue?(parseFloat(d.price)-parseFloat(d.discount.discountValue)).toFixed(2):d.price;return e.jsx("div",{className:"border border-gray-200 rounded-lg p-3 bg-white h-full",children:e.jsxs("div",{className:"flex gap-3",children:[n.images.length>0&&e.jsxs("div",{className:"relative w-16 h-16 rounded overflow-hidden bg-gray-100 flex-shrink-0",children:[e.jsx("img",{src:URL.createObjectURL(n.images[0]),alt:`Variant ${c+1}`,className:"w-full h-full object-cover"}),n.images.length>1&&e.jsxs("div",{className:"absolute bottom-0 right-0 bg-black/50 text-white text-xs px-1 rounded-tl",children:["+",n.images.length-1]})]}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"w-6 h-6 rounded-full border-2 border-gray-300 capitalize",style:{backgroundColor:d.color},title:U(d.color).name}),e.jsxs("span",{className:"text-sm font-medium",children:["Variant ",c+1]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:d.outOfStock?e.jsx(P,{variant:"destructive",className:"text-xs bg-red-500 text-white",children:"Out of Stock"}):`Stock: ${d.quantity} units`})]}),e.jsx("div",{className:"text-right",children:d.discount?.discountType!=="none"&&d.discount?.discountValue?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-xs text-gray-500 line-through",children:["$",d.price,s.priceType&&e.jsxs("span",{className:"text-xs",children:["/",s.priceType==="sqft"?"sq ft":s.priceType==="linear"?"linear ft":"pallet"]})]}),e.jsxs("div",{className:"text-sm font-bold text-primary",children:["$",B,s.priceType&&e.jsxs("span",{className:"text-xs",children:["/",s.priceType==="sqft"?"sq ft":s.priceType==="linear"?"linear ft":"pallet"]})]}),e.jsx(P,{variant:"destructive",className:"text-xs mt-1",children:d.discount.discountType==="percentage"?`${d.discount.discountValue}% OFF`:`$${d.discount.discountValue} OFF`})]}):e.jsxs("div",{className:"text-sm font-bold text-primary",children:["$",d.price,s.priceType&&e.jsxs("span",{className:"text-xs",children:["/",s.priceType==="sqft"?"sq ft":s.priceType==="linear"?"linear ft":"pallet"]})]})})]})})]})},c)}),N.length>0&&!N.some((n,c)=>s.variants?.[c]?.color&&s.variants?.[c]?.price&&(s.variants?.[c]?.quantity||s.variants?.[c]?.outOfStock))&&e.jsx("div",{className:"text-sm text-gray-500 text-center py-2",children:"Complete variant details to see them here"})]})]}):"Variants will appear here"]})]})]})})};export{Pe as P,Se as a};
