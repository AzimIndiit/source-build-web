import{u as v,r as m,o as P,p as w,j as e,F as S,x as l,w as o,y as n,R as A,z as p,O as T,B as c,P as C}from"./index-BCiIUrXb.js";import{A as F}from"./AuthWrapper-zmeuqRTi.js";import{u as I}from"./useAuthMutations-CBbxsjT0.js";import{F as B}from"./FormSelect-prL940lU.js";import"./index-BdQq_4o_.js";import"./badge-C6OOTzUs.js";function G(){const x=v(),[i,u]=m.useState("no"),[b,h]=m.useState(!1),a=I(),t=P({resolver:w(C),defaultValues:{accountType:"",firstName:"",lastName:"",email:"",password:"",confirmPassword:"",termsAccepted:!1,phone:"",cellPhone:"",businessName:"",businessAddress:"",einNumber:"",salesTaxId:""}}),{handleSubmit:g,formState:{errors:N},watch:y}=t,d=y("accountType");console.log("Validation errors:",N);const f=async s=>{let r={accountType:s.accountType,firstName:s.firstName,lastName:s.lastName,email:s.email,password:s.password,confirmPassword:s.confirmPassword,termsAccepted:s.termsAccepted,role:s.accountType};s.accountType==="seller"?r={...r,businessName:s.businessName,businessAddress:s.businessAddress,phone:s.phone?.replace(/\D/g,""),cellPhone:s.cellPhone?.replace(/\D/g,""),einNumber:s.einNumber,salesTaxId:s.salesTaxId,localDelivery:i}:s.accountType==="driver"&&(r={...r,phone:s.phone?.replace(/\D/g,"")},delete r.localDelivery),a.mutate(r)},j=()=>{h(!0);const r="http://localhost:8081/api/v1/auth/google";window.location.href=r};return e.jsx(F,{children:e.jsx(S,{...t,children:e.jsxs("form",{onSubmit:g(f),className:"space-y-4",children:[e.jsx(B,{name:"accountType",label:"Account Type",disabled:a.isPending,placeholder:"Select account type",options:[{value:"seller",label:"Seller"}]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(l,{name:"firstName",label:"First Name",type:"text",disabled:a.isPending,placeholder:"First Name",className:"text-base px-4 border-gray-300"}),e.jsx(l,{name:"lastName",label:"Last Name",type:"text",disabled:a.isPending,placeholder:"Last Name",className:"text-base px-4 border-gray-300"})]}),d==="seller"&&e.jsxs(e.Fragment,{children:[e.jsx(l,{name:"businessName",label:"Business Name",type:"text",disabled:a.isPending,placeholder:"Business Name",className:"text-base px-4 border-gray-300"}),e.jsx(l,{name:"businessAddress",label:"Business Address",type:"text",disabled:a.isPending,placeholder:"Address of sales for materials",className:"text-base px-4 border-gray-300"}),e.jsx(o,{name:"phone",label:"Business Phone",disabled:a.isPending,placeholder:"(123) 456-7890",className:"text-base px-4 border-gray-300"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(o,{name:"cellPhone",label:"Cell Phone",disabled:a.isPending,placeholder:"(123) 456-7890",className:"text-base px-4 border-gray-300"}),e.jsx(l,{name:"einNumber",label:"EIN Number",type:"text",disabled:a.isPending,placeholder:"EIN number",className:"text-base px-4 border-gray-300"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(n,{className:"text-base font-medium",children:"Local Delivery Shipping"}),e.jsxs(A,{value:i,onValueChange:u,className:"flex gap-8",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{value:"yes",id:"yes"}),e.jsx(n,{htmlFor:"yes",className:"font-normal cursor-pointer",children:"Yes"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{value:"no",id:"no"}),e.jsx(n,{htmlFor:"no",className:"font-normal cursor-pointer",children:"No"})]})]})]}),i==="no"&&e.jsx(l,{name:"salesTaxId",label:"Sales Tax ID",type:"text",disabled:a.isPending,placeholder:"Sales Tax ID/Resale Certificates",className:"text-base px-4 border-gray-300"})]}),d==="driver"&&e.jsx(e.Fragment,{children:e.jsx(o,{name:"phone",label:"Phone Number",disabled:a.isPending,placeholder:"(123) 456-7890",className:"text-base px-4 border-gray-300"})}),e.jsx(l,{name:"email",label:"Email",type:"email",disabled:a.isPending,placeholder:"Enter your email",className:"text-base px-4 border-gray-300"}),e.jsx(l,{name:"password",label:"Password",type:"password",disabled:a.isPending,placeholder:"Create a password",className:"text-base px-4 border-gray-300"}),e.jsx(l,{name:"confirmPassword",label:"Confirm Password",type:"password",disabled:a.isPending,placeholder:"Confirm your password",className:"text-base px-4 border-gray-300"}),e.jsx(T,{name:"termsAccepted",disabled:a.isPending,control:t.control,render:({field:s})=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"terms",checked:s.value,onChange:s.onChange,className:"rounded border-gray-300"}),e.jsx(n,{htmlFor:"terms",className:"text-sm font-normal cursor-pointer",children:"I agree to the Terms and Conditions"})]}),t.formState.errors.termsAccepted&&e.jsx("p",{className:"text-sm text-red-600",children:t.formState.errors.termsAccepted.message})]})}),e.jsxs("div",{className:"pt-4 space-y-4",children:[e.jsx(c,{type:"submit",className:"w-full bg-primary hover:bg-primary/80 text-white font-medium text-base",loading:a.isPending,disabled:a.isPending,children:"Sign Up"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500",children:"OR"})})]}),e.jsxs(c,{type:"button",variant:"outline",className:"w-full flex justify-center items-center border-gray-300 font-medium text-base",onClick:j,disabled:b||a.isPending,children:[e.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign Up With Google"]}),e.jsx(c,{type:"button",className:"w-full flex justify-center items-center bg-green-600 hover:bg-green-700 text-white font-medium text-base",onClick:()=>x("/auth/login"),children:"Already have an account?"})]})]})})})}export{G as default};
