import{g as I,r as u,j as e,B as n,K as v,N as R,a6 as i,a7 as r,a8 as x,a9 as c,aa as f,ab as E}from"./index-CUSVstqU.js";import{T as H,a as K,b,c as a,d as Y,e as l}from"./table-DneWR9W7.js";import{B as w}from"./badge-c_xwgsXg.js";import{g as S}from"./orderUtils-DR-jD4b-.js";import{S as q}from"./SortDropdown-BZ2QEsue.js";import{O as G}from"./orderTransformers-DSlKWA6p.js";import{f as k}from"./date-utils-CIparGJB.js";const V=({orders:o,onViewAll:h,onViewDetails:N,title:A,showFilter:C=!0,showSort:D=!0,totalOrders:T,selectedSort:g,onSortChange:j,filters:p,onFilterChange:y})=>{const{user:t}=I(),[U,z]=u.useState("this-week"),[B,L]=u.useState({orderStatus:"",pricing:""}),O=g!==void 0?g:U,P=p!==void 0?p:B,$=s=>{j?j(s):z(s)},F=s=>{y?y(s):L(s)};return T===0?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center",children:[e.jsx("p",{className:"text-gray-600 font-semibold mb-2",children:"No orders found"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"You don't have any orders yet."})]}):e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:A})}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[h&&e.jsx(n,{variant:"link",className:"text-primary font-semibold text-xs md:text-sm p-0 underline",onClick:h,children:"View All Orders"}),D&&e.jsx(q,{selectedSort:O,onSortChange:$}),C&&e.jsx(G,{filters:P,onFilterChange:F})]})]}),e.jsx("div",{className:"block md:hidden space-y-3",children:o.map((s,m)=>e.jsx(v,{className:"bg-white shadow-sm border-gray-200",children:e.jsxs(R,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Order ID"}),e.jsxs("p",{className:"text-sm font-medium text-primary",children:["#",s.id]})]}),e.jsx(w,{className:`px-2 py-1 rounded-full font-medium text-xs ${S(s.status)}`,children:s.status})]}),e.jsxs("div",{className:"space-y-2",children:[t?.role!=="admin"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Product"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 line-clamp-1",children:s.products?.map(d=>d.title).join(", ")})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 space-y-4",children:[["seller","admin"].includes(t?.role||"")&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Customer"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(i,{className:"w-8 h-8 border border-white shadow-sm",children:[s.customer?.avatar?e.jsx(r,{src:s.customer.avatar,alt:s.customer?.displayName||"Customer",className:"object-cover"}):null,e.jsx(x,{className:"bg-gray-200 text-gray-700 text-xs font-medium",children:s.customer?.displayName?c(s.customer.displayName):"NA"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:s.customer?.displayName||"Unknown"}),e.jsx("p",{className:"text-xs text-gray-500",children:s.customer?.email||"No email"})]})]})]}),["admin"].includes(t?.role||"")&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Seller"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(i,{className:"w-8 h-8 border border-white shadow-sm",children:[s.seller?.avatar?e.jsx(r,{src:s.seller.avatar,alt:s.seller?.displayName||"Seller",className:"object-cover"}):null,e.jsx(x,{className:"bg-gray-200 text-gray-700 text-xs font-medium",children:s.seller?.displayName?c(s.seller.displayName):"NA"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:s.seller?.displayName||"Unknown"}),e.jsx("p",{className:"text-xs text-gray-500",children:s.seller?.email||"No email"})]})]})]}),["admin"].includes(t?.role||"")&&s.driver?e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Driver"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(i,{className:"w-8 h-8 border border-white shadow-sm",children:[s.driver?.avatar?e.jsx(r,{src:s.driver.avatar,alt:s.driver?.displayName||"Driver",className:"object-cover"}):null,e.jsx(x,{className:"bg-gray-200 text-gray-700 text-xs font-medium",children:s.driver?.displayName?c(s.driver.displayName):"NA"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:s.driver?.displayName||"Unknown"}),e.jsx("p",{className:"text-xs text-gray-500",children:s.driver?.email||"No email"})]})]})]}):e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Driver"}),e.jsx("p",{className:" text-gray-500",children:"Not Assigned"})]})]}),t?.role==="driver"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Pick Up Location"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 line-clamp-1",children:s.orderSummary?.formattedPickupAddress})]}),t?.role==="driver"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Drop Location"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 line-clamp-1",children:s.orderSummary?.formattedShippingAddress})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:k(s.date)}),e.jsx("p",{className:"text-sm font-semibold text-primary",children:f(s.amount)})]}),e.jsxs(n,{variant:"ghost",size:"sm",className:"text-primary font-semibold text-xs",onClick:()=>N?.(s.id),children:["Details",e.jsx(E,{className:"w-4 h-4 ml-1"})]})]})]})]})},`${s.id}-${m}`))}),e.jsx(v,{className:"hidden md:block bg-white shadow-sm border-gray-50 rounded-3xl p-0 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(H,{children:[e.jsx(K,{children:e.jsxs(b,{className:"bg-gray-50/50 hover:bg-gray-50/50",children:[e.jsx(a,{className:"text-center font-semibold text-gray-700 text-xs lg:text-sm",children:"Order ID"}),t?.role!=="admin"&&e.jsx(a,{className:"text-left font-semibold text-gray-700 text-xs lg:text-sm",children:"Product"}),t?.role==="admin"&&e.jsx(a,{className:"text-left font-semibold text-gray-700 text-xs lg:text-sm",children:"Buyer Name"}),t?.role==="admin"&&e.jsx(a,{className:"text-left font-semibold text-gray-700 text-xs lg:text-sm",children:"Seller Name"}),t?.role==="admin"&&e.jsx(a,{className:"text-left font-semibold text-gray-700 text-xs lg:text-sm",children:"Driver Name"}),t?.role==="seller"&&e.jsx(a,{className:"text-left font-semibold text-gray-700 text-xs lg:text-sm",children:"Customer Details"}),t?.role==="driver"&&e.jsx(a,{className:"text-left font-semibold text-gray-700 text-xs lg:text-sm",children:"Pick Up Location"}),t?.role==="driver"&&e.jsx(a,{className:"text-left font-semibold text-gray-700 text-xs lg:text-sm",children:"Drop Location"}),e.jsx(a,{className:"text-center font-semibold text-gray-700 text-xs lg:text-sm hidden lg:table-cell",children:"Order Date"}),e.jsx(a,{className:"text-center font-semibold text-gray-700 text-xs lg:text-sm",children:"Amount"}),e.jsx(a,{className:"text-center font-semibold text-gray-700 text-xs lg:text-sm",children:"Status"}),e.jsx(a,{className:"text-center font-semibold text-gray-700 text-xs lg:text-sm",children:"Actions"})]})}),e.jsx(Y,{children:o.map((s,m)=>e.jsxs(b,{className:"hover:bg-gray-50/30 border-b",children:[e.jsx(l,{className:"text-center",children:e.jsxs("span",{className:"text-primary font-medium text-xs lg:text-sm",children:["#",s.id]})}),t?.role!=="admin"&&e.jsx(l,{className:"text-left   max-w-[200px] truncate",children:e.jsx("span",{className:"text-gray-900 text-xs lg:text-sm",children:s.products?.map(d=>d.title).join(", ")})}),["seller","admin"].includes(t?.role||"")&&e.jsx(l,{className:"py-3 lg:py-4",children:e.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[e.jsxs(i,{className:"w-8 h-8 lg:w-10 lg:h-10 border-2 border-white shadow-sm",children:[s.customer?.avatar?e.jsx(r,{src:s.customer.avatar,alt:s.customer?.displayName||"Customer",className:"object-cover"}):null,e.jsx(x,{className:"bg-gray-200 text-gray-700 font-medium text-xs uppercase",children:s.customer?.displayName?c(s.customer.displayName):"NA"})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium text-xs lg:text-sm text-gray-900 capitalize",children:s.customer?.displayName||"Unknown"}),e.jsx("div",{className:"text-xs text-gray-500 hidden xl:block",children:s.customer?.email||"No email"})]})]})}),["admin"].includes(t?.role||"")&&e.jsx(l,{className:"py-3 lg:py-4",children:e.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[e.jsxs(i,{className:"w-8 h-8 lg:w-10 lg:h-10 border-2 border-white shadow-sm",children:[s.seller?.avatar?e.jsx(r,{src:s.seller.avatar,alt:s.seller?.displayName||"Seller",className:"object-cover"}):null,e.jsx(x,{className:"bg-gray-200 text-gray-700 font-medium text-xs uppercase",children:s.seller?.displayName?c(s.seller.displayName):"NA"})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium text-xs lg:text-sm text-gray-900 capitalize",children:s.seller?.displayName||"Unknown"}),e.jsx("div",{className:"text-xs text-gray-500 hidden xl:block",children:s.seller?.email||"No email"})]})]})}),["admin"].includes(t?.role||"")&&s.driver?e.jsx(l,{className:"py-3 lg:py-4",children:e.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[e.jsxs(i,{className:"w-8 h-8 lg:w-10 lg:h-10 border-2 border-white shadow-sm",children:[s.driver?.avatar?e.jsx(r,{src:s.driver.avatar,alt:s.driver?.displayName||"Driver",className:"object-cover"}):null,e.jsx(x,{className:"bg-gray-200 text-gray-700 font-medium text-xs uppercase",children:s.driver?.displayName?c(s.driver.displayName):"NA"})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium text-xs lg:text-sm text-gray-900 capitalize",children:s.driver?.displayName||"Unknown"}),e.jsx("div",{className:"text-xs text-gray-500 hidden xl:block",children:s.driver?.email||"No email"})]})]})}):e.jsx(l,{children:e.jsx("p",{className:" text-gray-500",children:"Not Assigned"})}),t?.role==="driver"&&e.jsx(l,{className:"text-left max-w-[200px] truncate",children:e.jsx("span",{className:"text-gray-700 text-xs lg:text-sm ",children:s.orderSummary?.formattedPickupAddress||"-"})}),t?.role==="driver"&&e.jsx(l,{className:"text-left max-w-[200px] truncate",children:e.jsx("span",{className:"text-gray-700 text-xs lg:text-sm ",children:s.orderSummary?.formattedShippingAddress||"-"})}),e.jsx(l,{className:"text-center hidden lg:table-cell",children:e.jsx("span",{className:"text-gray-700 text-xs lg:text-sm",children:k(s.date)})}),e.jsx(l,{className:"text-center font-semibold",children:e.jsx("span",{className:"text-gray-900 text-xs lg:text-sm",children:f(s.amount)})}),e.jsx(l,{className:"text-center",children:e.jsx(w,{className:`px-2 lg:px-3 py-1 rounded-full font-medium text-xs ${S(s.status)}`,children:s.status})}),e.jsx(l,{className:"text-center",children:e.jsx(n,{variant:"link",className:"text-primary font-semibold text-xs lg:text-sm p-0 underline",onClick:()=>N?.(s.id),children:"See Details"})})]},`${s.id}-${m}`))})]})})})]})};export{V as O};
