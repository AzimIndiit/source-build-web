import{j as e,S as a,u as j,r as c}from"./index-BCiIUrXb.js";import{O as N}from"./OrdersTable-8AKnQuh_.js";import{P as g}from"./pagination-wrapper-B_ZEmlQx.js";import{u as f}from"./useOrderMutations-CrbFM4Lj.js";import"./SortDropdown-CUQ2zqfz.js";import"./en-US-BQ62IwJd.js";import"./isSameDay-DbedOcDv.js";import"./format-K4P4TTu3.js";import"./endOfMonth-ropScTyq.js";import"./calendar-D77CX2lA.js";import"./badge-C6OOTzUs.js";import"./orderUtils-DR-jD4b-.js";import"./date-utils-CIparGJB.js";const v=()=>e.jsxs("div",{className:"py-4 md:p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(a,{className:"h-8 w-32"}),e.jsx(a,{className:"h-10 w-24"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-4 p-4 bg-gray-50 border-b border-gray-200",children:[e.jsx(a,{className:"h-4 w-20"}),e.jsx(a,{className:"h-4 w-24"}),e.jsx(a,{className:"h-4 w-20"}),e.jsx(a,{className:"h-4 w-16"}),e.jsx(a,{className:"h-4 w-18"}),e.jsx(a,{className:"h-4 w-16"})]}),Array.from({length:5}).map((m,t)=>e.jsxs("div",{className:"grid grid-cols-6 gap-4 p-4 border-b border-gray-100",children:[e.jsx(a,{className:"h-4 w-16"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(a,{className:"w-8 h-8 rounded-full"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(a,{className:"h-3 w-20"}),e.jsx(a,{className:"h-3 w-24"})]})]}),e.jsx(a,{className:"h-4 w-20"}),e.jsx(a,{className:"h-4 w-16"}),e.jsx(a,{className:"h-6 w-20 rounded-full"}),e.jsx(a,{className:"h-8 w-16 rounded"})]},t))]}),e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(a,{className:"h-10 w-10 rounded"}),e.jsx(a,{className:"h-10 w-10 rounded"}),e.jsx(a,{className:"h-10 w-10 rounded"}),e.jsx(a,{className:"h-10 w-16 rounded"}),e.jsx(a,{className:"h-10 w-10 rounded"}),e.jsx(a,{className:"h-10 w-10 rounded"})]})]}),q=()=>{const m=j(),[t,o]=c.useState(1),[n]=c.useState(10),{data:i,isLoading:u,isError:p,error:x}=f({page:t,limit:n}),h=s=>{m(`/seller/orders/${s}`)},y=s=>{o(s)};if(u)return e.jsx(v,{});if(p)return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center",children:[e.jsx("p",{className:"text-red-600 font-semibold mb-2",children:"Error loading orders"}),e.jsx("p",{className:"text-gray-600 text-sm",children:x?.response?.data?.message||"Failed to fetch orders. Please try again."})]});const l=(i?.data||[]).map(s=>({id:s.orderNumber||s._id,customer:{displayName:s.customer?.userRef?.displayName||"Customer",email:s.customer?.userRef?.email||"",avatar:s.customer?.userRef?.avatar||""},driver:s.driver?{displayName:s.driver?.userRef?.displayName||"Driver",email:s.driver?.userRef?.email||"",avatar:s.driver?.userRef?.avatar||""}:void 0,products:s.products.map(r=>({id:r.id,title:r.title,quantity:r.quantity,price:r.price,deliveryDate:r.deliveryDate,image:r.image})),date:s.createdAt,amount:s.amount,status:s.status,orderSummary:s.orderSummary?{shippingAddress:s.orderSummary.shippingAddress,proofOfDelivery:s.orderSummary.proofOfDelivery||"",paymentMethod:{type:s.orderSummary.paymentMethod.type,cardType:s.orderSummary.paymentMethod.cardType||"",cardNumber:s.orderSummary.paymentMethod.cardNumber||""},subTotal:s.orderSummary.subTotal,shippingFee:s.orderSummary.shippingFee,marketplaceFee:s.orderSummary.marketplaceFee,taxes:s.orderSummary.taxes,total:s.orderSummary.total}:void 0})),d=i?.pagination?.totalPages||1;return l.length?e.jsxs("div",{className:"py-4 md:p-6 space-y-6",children:[e.jsx(N,{title:"Orders",orders:l,onViewDetails:h}),d>1&&e.jsx(g,{currentPage:t,totalPages:d,onPageChange:y})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[400px] text-center",children:[e.jsx("p",{className:"text-gray-600 font-semibold mb-2",children:"No orders found"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"You don't have any orders yet."})]})};export{q as default};
