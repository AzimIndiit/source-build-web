import{r as n,j as e,aL as V,a_ as Re,aN as at,aH as Ie,a$ as lt,aI as ct,b0 as Ce,aJ as it,aM as Y,b1 as dt,aK as _,b2 as Z,b3 as ut,b4 as _e,aP as pt,b5 as ft,b6 as ht,b7 as mt,b8 as gt,b9 as vt,ba as xt,bb as St,bc as wt,bd as yt,a as ae,aC as Ae,ax as bt,be as Ct,bf as Nt,y as It,O as Tt,bg as Te,a1 as je}from"./index-BCiIUrXb.js";import{c as Pe}from"./index-BdQq_4o_.js";import{B as Ee}from"./badge-C6OOTzUs.js";var Me=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jt="VisuallyHidden",Pt=n.forwardRef((o,s)=>e.jsx(V.span,{...o,ref:s,style:{...Me,...o.style}}));Pt.displayName=jt;var Et=[" ","Enter","ArrowUp","ArrowDown"],Rt=[" ","Enter"],oe="Select",[pe,fe,_t]=it(oe),[le,yo]=ct(oe,[_t,Re]),he=Re(),[At,J]=le(oe),[Mt,Ot]=le(oe),Oe=o=>{const{__scopeSelect:s,children:t,open:d,defaultOpen:c,onOpenChange:v,value:a,defaultValue:l,onValueChange:i,dir:h,name:b,autoComplete:N,disabled:E,required:j,form:T}=o,m=he(s),[w,C]=n.useState(null),[f,y]=n.useState(null),[D,L]=n.useState(!1),q=at(h),[R,M]=Ie({prop:d,defaultProp:c??!1,onChange:v,caller:oe}),[F,G]=Ie({prop:a,defaultProp:l,onChange:i,caller:oe}),k=n.useRef(null),P=w?T||!!w.closest("form"):!0,[O,B]=n.useState(new Set),U=Array.from(O).map(A=>A.props.value).join(";");return e.jsx(lt,{...m,children:e.jsxs(At,{required:j,scope:s,trigger:w,onTriggerChange:C,valueNode:f,onValueNodeChange:y,valueNodeHasChildren:D,onValueNodeHasChildrenChange:L,contentId:Ce(),value:F,onValueChange:G,open:R,onOpenChange:M,dir:q,triggerPointerDownPosRef:k,disabled:E,children:[e.jsx(pe.Provider,{scope:s,children:e.jsx(Mt,{scope:o.__scopeSelect,onNativeOptionAdd:n.useCallback(A=>{B(H=>new Set(H).add(A))},[]),onNativeOptionRemove:n.useCallback(A=>{B(H=>{const W=new Set(H);return W.delete(A),W})},[]),children:t})}),P?e.jsxs(ot,{"aria-hidden":!0,required:j,tabIndex:-1,name:b,autoComplete:N,value:F,onChange:A=>G(A.target.value),disabled:E,form:T,children:[F===void 0?e.jsx("option",{value:""}):null,Array.from(O)]},U):null]})})};Oe.displayName=oe;var De="SelectTrigger",Le=n.forwardRef((o,s)=>{const{__scopeSelect:t,disabled:d=!1,...c}=o,v=he(t),a=J(De,t),l=a.disabled||d,i=Y(s,a.onTriggerChange),h=fe(t),b=n.useRef("touch"),[N,E,j]=rt(m=>{const w=h().filter(y=>!y.disabled),C=w.find(y=>y.value===a.value),f=st(w,m,C);f!==void 0&&a.onValueChange(f.value)}),T=m=>{l||(a.onOpenChange(!0),j()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return e.jsx(dt,{asChild:!0,...v,children:e.jsx(V.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":nt(a.value)?"":void 0,...c,ref:i,onClick:_(c.onClick,m=>{m.currentTarget.focus(),b.current!=="mouse"&&T(m)}),onPointerDown:_(c.onPointerDown,m=>{b.current=m.pointerType;const w=m.target;w.hasPointerCapture(m.pointerId)&&w.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(T(m),m.preventDefault())}),onKeyDown:_(c.onKeyDown,m=>{const w=N.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&E(m.key),!(w&&m.key===" ")&&Et.includes(m.key)&&(T(),m.preventDefault())})})})});Le.displayName=De;var ke="SelectValue",Ve=n.forwardRef((o,s)=>{const{__scopeSelect:t,className:d,style:c,children:v,placeholder:a="",...l}=o,i=J(ke,t),{onValueNodeHasChildrenChange:h}=i,b=v!==void 0,N=Y(s,i.onValueNodeChange);return Z(()=>{h(b)},[h,b]),e.jsx(V.span,{...l,ref:N,style:{pointerEvents:"none"},children:nt(i.value)?e.jsx(e.Fragment,{children:a}):v})});Ve.displayName=ke;var Dt="SelectIcon",Be=n.forwardRef((o,s)=>{const{__scopeSelect:t,children:d,...c}=o;return e.jsx(V.span,{"aria-hidden":!0,...c,ref:s,children:d||"â–¼"})});Be.displayName=Dt;var Lt="SelectPortal",He=o=>e.jsx(ut,{asChild:!0,...o});He.displayName=Lt;var ne="SelectContent",Fe=n.forwardRef((o,s)=>{const t=J(ne,o.__scopeSelect),[d,c]=n.useState();if(Z(()=>{c(new DocumentFragment)},[]),!t.open){const v=d;return v?_e.createPortal(e.jsx(Ue,{scope:o.__scopeSelect,children:e.jsx(pe.Slot,{scope:o.__scopeSelect,children:e.jsx("div",{children:o.children})})}),v):null}return e.jsx(We,{...o,ref:s})});Fe.displayName=ne;var z=10,[Ue,Q]=le(ne),kt="SelectContentImpl",Vt=vt("SelectContent.RemoveScroll"),We=n.forwardRef((o,s)=>{const{__scopeSelect:t,position:d="item-aligned",onCloseAutoFocus:c,onEscapeKeyDown:v,onPointerDownOutside:a,side:l,sideOffset:i,align:h,alignOffset:b,arrowPadding:N,collisionBoundary:E,collisionPadding:j,sticky:T,hideWhenDetached:m,avoidCollisions:w,...C}=o,f=J(ne,t),[y,D]=n.useState(null),[L,q]=n.useState(null),R=Y(s,r=>D(r)),[M,F]=n.useState(null),[G,k]=n.useState(null),P=fe(t),[O,B]=n.useState(!1),U=n.useRef(!1);n.useEffect(()=>{if(y)return ht(y)},[y]),mt();const A=n.useCallback(r=>{const[x,...p]=P().map(I=>I.ref.current),[g]=p.slice(-1),S=document.activeElement;for(const I of r)if(I===S||(I?.scrollIntoView({block:"nearest"}),I===x&&L&&(L.scrollTop=0),I===g&&L&&(L.scrollTop=L.scrollHeight),I?.focus(),document.activeElement!==S))return},[P,L]),H=n.useCallback(()=>A([M,y]),[A,M,y]);n.useEffect(()=>{O&&H()},[O,H]);const{onOpenChange:W,triggerPointerDownPosRef:$}=f;n.useEffect(()=>{if(y){let r={x:0,y:0};const x=g=>{r={x:Math.abs(Math.round(g.pageX)-($.current?.x??0)),y:Math.abs(Math.round(g.pageY)-($.current?.y??0))}},p=g=>{r.x<=10&&r.y<=10?g.preventDefault():y.contains(g.target)||W(!1),document.removeEventListener("pointermove",x),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",x),document.addEventListener("pointerup",p,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",p,{capture:!0})}}},[y,W,$]),n.useEffect(()=>{const r=()=>W(!1);return window.addEventListener("blur",r),window.addEventListener("resize",r),()=>{window.removeEventListener("blur",r),window.removeEventListener("resize",r)}},[W]);const[re,ee]=rt(r=>{const x=P().filter(S=>!S.disabled),p=x.find(S=>S.ref.current===document.activeElement),g=st(x,r,p);g&&setTimeout(()=>g.ref.current.focus())}),ce=n.useCallback((r,x,p)=>{const g=!U.current&&!p;(f.value!==void 0&&f.value===x||g)&&(F(r),g&&(U.current=!0))},[f.value]),ie=n.useCallback(()=>y?.focus(),[y]),X=n.useCallback((r,x,p)=>{const g=!U.current&&!p;(f.value!==void 0&&f.value===x||g)&&k(r)},[f.value]),se=d==="popper"?xe:$e,u=se===xe?{side:l,sideOffset:i,align:h,alignOffset:b,arrowPadding:N,collisionBoundary:E,collisionPadding:j,sticky:T,hideWhenDetached:m,avoidCollisions:w}:{};return e.jsx(Ue,{scope:t,content:y,viewport:L,onViewportChange:q,itemRefCallback:ce,selectedItem:M,onItemLeave:ie,itemTextRefCallback:X,focusSelectedItem:H,selectedItemText:G,position:d,isPositioned:O,searchRef:re,children:e.jsx(gt,{as:Vt,allowPinchZoom:!0,children:e.jsx(xt,{asChild:!0,trapped:f.open,onMountAutoFocus:r=>{r.preventDefault()},onUnmountAutoFocus:_(c,r=>{f.trigger?.focus({preventScroll:!0}),r.preventDefault()}),children:e.jsx(St,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:v,onPointerDownOutside:a,onFocusOutside:r=>r.preventDefault(),onDismiss:()=>f.onOpenChange(!1),children:e.jsx(se,{role:"listbox",id:f.contentId,"data-state":f.open?"open":"closed",dir:f.dir,onContextMenu:r=>r.preventDefault(),...C,...u,onPlaced:()=>B(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:_(C.onKeyDown,r=>{const x=r.ctrlKey||r.altKey||r.metaKey;if(r.key==="Tab"&&r.preventDefault(),!x&&r.key.length===1&&ee(r.key),["ArrowUp","ArrowDown","Home","End"].includes(r.key)){let g=P().filter(S=>!S.disabled).map(S=>S.ref.current);if(["ArrowUp","End"].includes(r.key)&&(g=g.slice().reverse()),["ArrowUp","ArrowDown"].includes(r.key)){const S=r.target,I=g.indexOf(S);g=g.slice(I+1)}setTimeout(()=>A(g)),r.preventDefault()}})})})})})})});We.displayName=kt;var Bt="SelectItemAlignedPosition",$e=n.forwardRef((o,s)=>{const{__scopeSelect:t,onPlaced:d,...c}=o,v=J(ne,t),a=Q(ne,t),[l,i]=n.useState(null),[h,b]=n.useState(null),N=Y(s,R=>b(R)),E=fe(t),j=n.useRef(!1),T=n.useRef(!0),{viewport:m,selectedItem:w,selectedItemText:C,focusSelectedItem:f}=a,y=n.useCallback(()=>{if(v.trigger&&v.valueNode&&l&&h&&m&&w&&C){const R=v.trigger.getBoundingClientRect(),M=h.getBoundingClientRect(),F=v.valueNode.getBoundingClientRect(),G=C.getBoundingClientRect();if(v.dir!=="rtl"){const S=G.left-M.left,I=F.left-S,K=R.left-I,te=R.width+K,me=Math.max(te,M.width),ge=window.innerWidth-z,ve=Pe(I,[z,Math.max(z,ge-me)]);l.style.minWidth=te+"px",l.style.left=ve+"px"}else{const S=M.right-G.right,I=window.innerWidth-F.right-S,K=window.innerWidth-R.right-I,te=R.width+K,me=Math.max(te,M.width),ge=window.innerWidth-z,ve=Pe(I,[z,Math.max(z,ge-me)]);l.style.minWidth=te+"px",l.style.right=ve+"px"}const k=E(),P=window.innerHeight-z*2,O=m.scrollHeight,B=window.getComputedStyle(h),U=parseInt(B.borderTopWidth,10),A=parseInt(B.paddingTop,10),H=parseInt(B.borderBottomWidth,10),W=parseInt(B.paddingBottom,10),$=U+A+O+W+H,re=Math.min(w.offsetHeight*5,$),ee=window.getComputedStyle(m),ce=parseInt(ee.paddingTop,10),ie=parseInt(ee.paddingBottom,10),X=R.top+R.height/2-z,se=P-X,u=w.offsetHeight/2,r=w.offsetTop+u,x=U+A+r,p=$-x;if(x<=X){const S=k.length>0&&w===k[k.length-1].ref.current;l.style.bottom="0px";const I=h.clientHeight-m.offsetTop-m.offsetHeight,K=Math.max(se,u+(S?ie:0)+I+H),te=x+K;l.style.height=te+"px"}else{const S=k.length>0&&w===k[0].ref.current;l.style.top="0px";const K=Math.max(X,U+m.offsetTop+(S?ce:0)+u)+p;l.style.height=K+"px",m.scrollTop=x-X+m.offsetTop}l.style.margin=`${z}px 0`,l.style.minHeight=re+"px",l.style.maxHeight=P+"px",d?.(),requestAnimationFrame(()=>j.current=!0)}},[E,v.trigger,v.valueNode,l,h,m,w,C,v.dir,d]);Z(()=>y(),[y]);const[D,L]=n.useState();Z(()=>{h&&L(window.getComputedStyle(h).zIndex)},[h]);const q=n.useCallback(R=>{R&&T.current===!0&&(y(),f?.(),T.current=!1)},[y,f]);return e.jsx(Ft,{scope:t,contentWrapper:l,shouldExpandOnScrollRef:j,onScrollButtonChange:q,children:e.jsx("div",{ref:i,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:e.jsx(V.div,{...c,ref:N,style:{boxSizing:"border-box",maxHeight:"100%",...c.style}})})})});$e.displayName=Bt;var Ht="SelectPopperPosition",xe=n.forwardRef((o,s)=>{const{__scopeSelect:t,align:d="start",collisionPadding:c=z,...v}=o,a=he(t);return e.jsx(wt,{...a,...v,ref:s,align:d,collisionPadding:c,style:{boxSizing:"border-box",...v.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});xe.displayName=Ht;var[Ft,Ne]=le(ne,{}),Se="SelectViewport",Ke=n.forwardRef((o,s)=>{const{__scopeSelect:t,nonce:d,...c}=o,v=Q(Se,t),a=Ne(Se,t),l=Y(s,v.onViewportChange),i=n.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:d}),e.jsx(pe.Slot,{scope:t,children:e.jsx(V.div,{"data-radix-select-viewport":"",role:"presentation",...c,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...c.style},onScroll:_(c.onScroll,h=>{const b=h.currentTarget,{contentWrapper:N,shouldExpandOnScrollRef:E}=a;if(E?.current&&N){const j=Math.abs(i.current-b.scrollTop);if(j>0){const T=window.innerHeight-z*2,m=parseFloat(N.style.minHeight),w=parseFloat(N.style.height),C=Math.max(m,w);if(C<T){const f=C+j,y=Math.min(T,f),D=f-y;N.style.height=y+"px",N.style.bottom==="0px"&&(b.scrollTop=D>0?D:0,N.style.justifyContent="flex-end")}}}i.current=b.scrollTop})})})]})});Ke.displayName=Se;var ze="SelectGroup",[Ut,Wt]=le(ze),$t=n.forwardRef((o,s)=>{const{__scopeSelect:t,...d}=o,c=Ce();return e.jsx(Ut,{scope:t,id:c,children:e.jsx(V.div,{role:"group","aria-labelledby":c,...d,ref:s})})});$t.displayName=ze;var Ge="SelectLabel",Kt=n.forwardRef((o,s)=>{const{__scopeSelect:t,...d}=o,c=Wt(Ge,t);return e.jsx(V.div,{id:c.id,...d,ref:s})});Kt.displayName=Ge;var ue="SelectItem",[zt,Ye]=le(ue),qe=n.forwardRef((o,s)=>{const{__scopeSelect:t,value:d,disabled:c=!1,textValue:v,...a}=o,l=J(ue,t),i=Q(ue,t),h=l.value===d,[b,N]=n.useState(v??""),[E,j]=n.useState(!1),T=Y(s,f=>i.itemRefCallback?.(f,d,c)),m=Ce(),w=n.useRef("touch"),C=()=>{c||(l.onValueChange(d),l.onOpenChange(!1))};if(d==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(zt,{scope:t,value:d,disabled:c,textId:m,isSelected:h,onItemTextChange:n.useCallback(f=>{N(y=>y||(f?.textContent??"").trim())},[]),children:e.jsx(pe.ItemSlot,{scope:t,value:d,disabled:c,textValue:b,children:e.jsx(V.div,{role:"option","aria-labelledby":m,"data-highlighted":E?"":void 0,"aria-selected":h&&E,"data-state":h?"checked":"unchecked","aria-disabled":c||void 0,"data-disabled":c?"":void 0,tabIndex:c?void 0:-1,...a,ref:T,onFocus:_(a.onFocus,()=>j(!0)),onBlur:_(a.onBlur,()=>j(!1)),onClick:_(a.onClick,()=>{w.current!=="mouse"&&C()}),onPointerUp:_(a.onPointerUp,()=>{w.current==="mouse"&&C()}),onPointerDown:_(a.onPointerDown,f=>{w.current=f.pointerType}),onPointerMove:_(a.onPointerMove,f=>{w.current=f.pointerType,c?i.onItemLeave?.():w.current==="mouse"&&f.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_(a.onPointerLeave,f=>{f.currentTarget===document.activeElement&&i.onItemLeave?.()}),onKeyDown:_(a.onKeyDown,f=>{i.searchRef?.current!==""&&f.key===" "||(Rt.includes(f.key)&&C(),f.key===" "&&f.preventDefault())})})})})});qe.displayName=ue;var de="SelectItemText",Xe=n.forwardRef((o,s)=>{const{__scopeSelect:t,className:d,style:c,...v}=o,a=J(de,t),l=Q(de,t),i=Ye(de,t),h=Ot(de,t),[b,N]=n.useState(null),E=Y(s,C=>N(C),i.onItemTextChange,C=>l.itemTextRefCallback?.(C,i.value,i.disabled)),j=b?.textContent,T=n.useMemo(()=>e.jsx("option",{value:i.value,disabled:i.disabled,children:j},i.value),[i.disabled,i.value,j]),{onNativeOptionAdd:m,onNativeOptionRemove:w}=h;return Z(()=>(m(T),()=>w(T)),[m,w,T]),e.jsxs(e.Fragment,{children:[e.jsx(V.span,{id:i.textId,...v,ref:E}),i.isSelected&&a.valueNode&&!a.valueNodeHasChildren?_e.createPortal(v.children,a.valueNode):null]})});Xe.displayName=de;var Ze="SelectItemIndicator",Je=n.forwardRef((o,s)=>{const{__scopeSelect:t,...d}=o;return Ye(Ze,t).isSelected?e.jsx(V.span,{"aria-hidden":!0,...d,ref:s}):null});Je.displayName=Ze;var we="SelectScrollUpButton",Qe=n.forwardRef((o,s)=>{const t=Q(we,o.__scopeSelect),d=Ne(we,o.__scopeSelect),[c,v]=n.useState(!1),a=Y(s,d.onScrollButtonChange);return Z(()=>{if(t.viewport&&t.isPositioned){let l=function(){const h=i.scrollTop>0;v(h)};const i=t.viewport;return l(),i.addEventListener("scroll",l),()=>i.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),c?e.jsx(tt,{...o,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:i}=t;l&&i&&(l.scrollTop=l.scrollTop-i.offsetHeight)}}):null});Qe.displayName=we;var ye="SelectScrollDownButton",et=n.forwardRef((o,s)=>{const t=Q(ye,o.__scopeSelect),d=Ne(ye,o.__scopeSelect),[c,v]=n.useState(!1),a=Y(s,d.onScrollButtonChange);return Z(()=>{if(t.viewport&&t.isPositioned){let l=function(){const h=i.scrollHeight-i.clientHeight,b=Math.ceil(i.scrollTop)<h;v(b)};const i=t.viewport;return l(),i.addEventListener("scroll",l),()=>i.removeEventListener("scroll",l)}},[t.viewport,t.isPositioned]),c?e.jsx(tt,{...o,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:i}=t;l&&i&&(l.scrollTop=l.scrollTop+i.offsetHeight)}}):null});et.displayName=ye;var tt=n.forwardRef((o,s)=>{const{__scopeSelect:t,onAutoScroll:d,...c}=o,v=Q("SelectScrollButton",t),a=n.useRef(null),l=fe(t),i=n.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return n.useEffect(()=>()=>i(),[i]),Z(()=>{l().find(b=>b.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),e.jsx(V.div,{"aria-hidden":!0,...c,ref:s,style:{flexShrink:0,...c.style},onPointerDown:_(c.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(d,50))}),onPointerMove:_(c.onPointerMove,()=>{v.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(d,50))}),onPointerLeave:_(c.onPointerLeave,()=>{i()})})}),Gt="SelectSeparator",Yt=n.forwardRef((o,s)=>{const{__scopeSelect:t,...d}=o;return e.jsx(V.div,{"aria-hidden":!0,...d,ref:s})});Yt.displayName=Gt;var be="SelectArrow",qt=n.forwardRef((o,s)=>{const{__scopeSelect:t,...d}=o,c=he(t),v=J(be,t),a=Q(be,t);return v.open&&a.position==="popper"?e.jsx(yt,{...c,...d,ref:s}):null});qt.displayName=be;var Xt="SelectBubbleInput",ot=n.forwardRef(({__scopeSelect:o,value:s,...t},d)=>{const c=n.useRef(null),v=Y(d,c),a=pt(s);return n.useEffect(()=>{const l=c.current;if(!l)return;const i=window.HTMLSelectElement.prototype,b=Object.getOwnPropertyDescriptor(i,"value").set;if(a!==s&&b){const N=new Event("change",{bubbles:!0});b.call(l,s),l.dispatchEvent(N)}},[a,s]),e.jsx(V.select,{...t,style:{...Me,...t.style},ref:v,defaultValue:s})});ot.displayName=Xt;function nt(o){return o===""||o===void 0}function rt(o){const s=ft(o),t=n.useRef(""),d=n.useRef(0),c=n.useCallback(a=>{const l=t.current+a;s(l),(function i(h){t.current=h,window.clearTimeout(d.current),h!==""&&(d.current=window.setTimeout(()=>i(""),1e3))})(l)},[s]),v=n.useCallback(()=>{t.current="",window.clearTimeout(d.current)},[]);return n.useEffect(()=>()=>window.clearTimeout(d.current),[]),[t,c,v]}function st(o,s,t){const c=s.length>1&&Array.from(s).every(h=>h===s[0])?s[0]:s,v=t?o.indexOf(t):-1;let a=Zt(o,Math.max(v,0));c.length===1&&(a=a.filter(h=>h!==t));const i=a.find(h=>h.textValue.toLowerCase().startsWith(c.toLowerCase()));return i!==t?i:void 0}function Zt(o,s){return o.map((t,d)=>o[(s+d)%o.length])}var Jt=Oe,Qt=Le,eo=Ve,to=Be,oo=He,no=Fe,ro=Ke,so=qe,ao=Xe,lo=Je,co=Qe,io=et;function uo({...o}){return e.jsx(Jt,{"data-slot":"select",...o})}function po({...o}){return e.jsx(eo,{"data-slot":"select-value",...o})}function fo({className:o,size:s="default",children:t,...d}){return e.jsxs(Qt,{"data-slot":"select-trigger","data-size":s,className:ae("border-[#DFDFDF] data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-primary/30 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-sm border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s==="default"&&"h-16",s==="sm"&&"h-8",o),...d,children:[t,e.jsx(to,{asChild:!0,children:e.jsx(Ae,{className:"size-4 opacity-50"})})]})}function ho({className:o,children:s,position:t="popper",...d}){return e.jsx(oo,{children:e.jsxs(no,{"data-slot":"select-content",className:ae("bg-white border-none text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-[9999] max-h-[var(--radix-select-content-available-height)] min-w-[8rem] origin-[var(--radix-select-content-transform-origin)] overflow-x-hidden overflow-y-auto rounded-sm border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o),position:t,...d,children:[e.jsx(go,{}),e.jsx(ro,{className:ae("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),e.jsx(vo,{})]})})}function mo({className:o,children:s,...t}){return e.jsxs(so,{"data-slot":"select-item",className:ae("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",o),...t,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(lo,{children:e.jsx(bt,{className:"size-4"})})}),e.jsx(ao,{children:s})]})}function go({className:o,...s}){return e.jsx(co,{"data-slot":"select-scroll-up-button",className:ae("flex cursor-default items-center justify-center py-1",o),...s,children:e.jsx(Ct,{className:"size-4"})})}function vo({className:o,...s}){return e.jsx(io,{"data-slot":"select-scroll-down-button",className:ae("flex cursor-default items-center justify-center py-1",o),...s,children:e.jsx(Ae,{className:"size-4"})})}const bo=({name:o,label:s,placeholder:t,options:d,searchable:c=!1,searchPlaceholder:v="Search options...",optionsPerPage:a=10,disabled:l=!1,multiple:i=!1,maxSelections:h,showSelectAll:b=!1,customError:N,creatable:E=!1,createPlaceholder:j='Create "{search}"',onCreateOption:T,className:m=""})=>{const{control:w,formState:{errors:C}}=Nt(),[f,y]=n.useState(""),[D,L]=n.useState(a),[q,R]=n.useState(!1),[M,F]=n.useState(d),G=n.useRef(null),k=C[o]||N;n.useEffect(()=>{F(d)},[d]),n.useEffect(()=>{L(a)},[f,a]);const P=n.useMemo(()=>!c||!f.trim()?M:M.filter(r=>r.label.toLowerCase().includes(f.toLowerCase())||r.value.toLowerCase().includes(f.toLowerCase())),[M,f,c]),O=n.useMemo(()=>P.slice(0,D),[P,D]),B=D<P.length,U=(u,r)=>{r(u),y(""),R(!1)},A=(u,r,x)=>{const p=r.includes(u)?r.filter(g=>g!==u):h&&r.length>=h?r:[...r,u];x(p)},H=(u,r,x)=>{const p=r.filter(g=>g!==u);x(p)},W=(u,r)=>{const x=P.map(g=>g.value);if(x.every(g=>u.includes(g))){const g=u.filter(S=>!x.includes(S));r(g)}else{const g=[...new Set([...u,...x])];h&&g.length>h?r(g.slice(0,h)):r(g)}},$=u=>{u.stopPropagation(),y(u.target.value)},re=u=>{u.stopPropagation()},ee=u=>{const r=u.target,{scrollTop:x,scrollHeight:p,clientHeight:g}=r;p-x-g<50&&B&&L(S=>Math.min(S+a,P.length))},ce=u=>i?(Array.isArray(u)?u:[]).map(x=>d.find(p=>p.value===x)?.label||x):[],ie=u=>{u([])},X=(u,r,x)=>{const p=u.trim();if(!p)return;if(!M.some(S=>S.value.toLowerCase()===p.toLowerCase()||S.label.toLowerCase()===p.toLowerCase())){const S={value:p.toLowerCase().replace(/\s+/g,"-"),label:p};if(F(I=>[...I,S]),i){const I=Array.isArray(r)?r:[];x([...I,S.value])}else x(S.value);T&&T(p),y(""),i||R(!1)}},se=u=>{const r=Array.isArray(u.value)?u.value:[],x=ce(r);return r.length===0?e.jsx("span",{className:"text-gray-500",children:t}):e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex flex-wrap gap-1 flex-1 min-w-0 pr-8",children:[x.slice(0,3).map((p,g)=>e.jsxs(Ee,{variant:"secondary",className:`text-xs flex items-center gap-1 pr-1 p-2 rounded-full bg-primary/10 ${r.length>3?"max-w-[5rem] sm:max-w-[6rem]":"max-w-[6rem] sm:max-w-[7rem]"}`,children:[e.jsx("span",{className:"truncate",children:p}),e.jsx("button",{type:"button",className:"ml-1 p-1.5 hover:bg-red-200 rounded-sm transition-colors duration-150 flex items-center justify-center flex-shrink-0",onClick:S=>{S.preventDefault(),S.stopPropagation(),H(r[g],r,u.onChange)},tabIndex:-1,children:e.jsx(je,{size:10,className:"text-gray-500 hover:text-red-600 cursor-pointer"})})]},r[g])),r.length>3&&e.jsxs(Ee,{variant:"outline",className:"text-xs p-2 rounded-sm whitespace-nowrap",children:["+",r.length-3," more"]})]}),r.length>0&&e.jsx("button",{type:"button",className:"absolute right-2 p-1 hover:bg-red-100 rounded-sm transition-colors duration-150 flex items-center justify-center flex-shrink-0 cursor-pointer bg-white",onClick:p=>{p.preventDefault(),p.stopPropagation(),ie(u.onChange)},title:"Clear all selections",tabIndex:-1,children:e.jsx(je,{size:14,className:"text-gray-400 hover:text-red-600 cursor-pointer"})})]})};return e.jsxs("div",{className:"w-full",children:[s&&e.jsx(It,{htmlFor:o,className:"",children:s}),e.jsx(Tt,{name:o,control:w,render:({field:u})=>{const r=i?null:d.find(p=>p.value===u.value),x=n.useMemo(()=>i||!r||O.some(g=>g.value===u.value)?O:[r,...O],[O,r,u.value,i]);return i?e.jsxs("div",{className:"relative",children:[e.jsx("div",{ref:u.ref,id:o,className:`${s?"mt-2":""} rounded-sm w-full min-h-14 px-3 py-2 border cursor-pointer flex items-center relative ${k?"border-red-500":"border-gray-300"} ${l?"bg-gray-100 cursor-not-allowed":"bg-white hover:border-gray-400"} ${m}`,onClick:()=>!l&&R(!q),children:se(u)}),q&&!l&&e.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-sm shadow-lg",children:[c&&e.jsx("div",{className:"p-2 border-b border-gray-200",onClick:p=>p.stopPropagation(),children:e.jsx(Te,{type:"text",placeholder:v,value:f,onChange:$,onKeyDown:re,className:"h-8 rounded-sm",autoFocus:!0,autoComplete:"off"})}),b&&P.length>0&&e.jsx("div",{className:"p-2 border-b border-gray-200 cursor-pointer hover:bg-gray-50 text-sm font-medium",onClick:()=>W(Array.isArray(u.value)?u.value:[],u.onChange),children:P.every(p=>(Array.isArray(u.value)?u.value:[]).includes(p.value))?"Deselect All":"Select All"}),e.jsxs("div",{ref:G,onScroll:ee,className:"max-h-60 overflow-y-auto",children:[E&&f&&P.length===0&&e.jsx("div",{className:"p-2 cursor-pointer hover:bg-blue-50 text-blue-600 flex items-center gap-2 border-b",onClick:()=>X(f,Array.isArray(u.value)?u.value:[],u.onChange),children:e.jsx("span",{className:"flex-1",children:j.replace("{search}",f)})}),x.length>0?e.jsxs(e.Fragment,{children:[x.map(p=>{const g=Array.isArray(u.value)?u.value:[],S=g.includes(p.value),I=h&&g.length>=h,K=!S&&I;return e.jsxs("div",{className:`p-2 flex items-center gap-2 ${K?"opacity-50 cursor-not-allowed bg-gray-50":"cursor-pointer hover:bg-gray-50"} ${S?"bg-blue-50 text-blue-700":""}`,onClick:()=>{K||A(p.value,g,u.onChange)},children:[e.jsx("input",{type:"checkbox",checked:S,disabled:K?!0:void 0,onChange:()=>{},className:"rounded"}),e.jsx("span",{className:"flex-1",children:p.label})]},p.value)}),B&&e.jsxs("div",{className:"p-2 text-xs text-gray-400 text-center border-t",children:["Scroll for more options... (",P.length-D," ","remaining)"]})]}):!E&&c&&f&&e.jsxs("div",{className:"p-2 text-sm text-gray-500 text-center",children:['No options found for "',f,'"']})]}),h&&e.jsx("div",{className:"p-2 border-t border-gray-200 text-xs text-gray-500 text-center",children:(()=>{const p=Array.isArray(u.value)?u.value.length:0,g=h-p;return p===h?`Maximum ${h} tags selected`:p>0?`${p} selected â€¢ ${g} more available`:`Select up to ${h} tags`})()})]}),q&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>R(!1)})]}):e.jsxs(uo,{onValueChange:p=>U(p,u.onChange),value:u.value||"",disabled:l,children:[e.jsx(fo,{id:o,ref:u.ref,className:`${s?"mt-2":""} rounded-sm w-full ${k?"border-red-500":"border-gray-300"} ${m}`,disabled:l,children:e.jsx(po,{placeholder:t||"Select an option"})}),e.jsxs(ho,{className:"w-full bg-white",children:[c&&!l&&e.jsx("div",{className:"p-2 border-b border-gray-200",onClick:p=>p.stopPropagation(),children:e.jsx(Te,{type:"text",placeholder:v,value:f,onChange:$,onKeyDown:re,className:"h-8 rounded-sm",autoFocus:!0,autoComplete:"off"})}),e.jsx("div",{ref:G,onScroll:ee,className:"max-h-60 overflow-y-auto",children:x.length>0?e.jsxs(e.Fragment,{children:[x.map(p=>e.jsx(mo,{value:p.value,className:"hover:bg-gray-100 cursor-pointer",children:p.label},p.value)),B&&e.jsxs("div",{className:"p-2 text-xs text-gray-400 text-center border-t",children:["Scroll for more options... (",P.length-D," ","remaining)"]})]}):c&&f&&e.jsxs("div",{className:"p-2 text-sm text-gray-500 text-center",children:['No options found for "',f,'"']})})]})]})}}),k&&e.jsx("p",{className:"text-red-500 text-xs mt-2",children:k.message?.toString()})]})};export{bo as F};
