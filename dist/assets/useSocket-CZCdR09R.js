import{c as C}from"./en-US-BQ62IwJd.js";import{m as d,r as c,bt as t}from"./index-BCiIUrXb.js";function b(s){return C(s,Date.now())}const g=()=>{const{user:s}=d(),o=s?.id||"",r=c.useCallback(e=>{e&&!t.getIsConnected()&&t.connect(e)},[]),u=c.useCallback(()=>{t.disconnect()},[]),a=c.useCallback((e,n)=>{t.emit(e,n)},[]),f=c.useCallback((e,n)=>(t.on(e,n),()=>t.off(e,n)),[]),i=c.useCallback((e,n)=>{t.off(e,n)},[]),l=c.useCallback(()=>t.getIsConnected(),[]);return c.useEffect(()=>{o&&!t.getIsConnected()?r(o):!o&&t.getIsConnected()&&u()},[o,r,u]),{connect:r,disconnect:u,emit:a,on:f,off:i,isConnected:l}};export{b as c,g as u};
