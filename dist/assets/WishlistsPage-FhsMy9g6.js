import{u as h,r as a,j as e}from"./index-CUSVstqU.js";import{P as f}from"./pagination-wrapper-Caj-HnEp.js";import{u as j}from"./useProductMutations-CP-SVJ5v.js";import{E as P}from"./EmptyState-CH6fPGhV.js";import{P as v}from"./productEmptyState-B0Qq07aF.js";import{P as N}from"./ProductCard-Bxz0lhNv.js";import{M as b}from"./MarketPlacePageSkeleton-DWydYiJ-.js";import"./badge-c_xwgsXg.js";import"./LazyImage-D5w62-6q.js";import"./useWishlist-DogIdL_T.js";const R=()=>{const n=h(),[r,d]=a.useState(1),[m,S]=a.useState({sorting:"ascending"}),[i,C]=a.useState("all"),x=10,{data:c,isLoading:p,isError:u,refetch:g}=j({page:r,limit:x,isInWishlist:!0,location:i==="all"?void 0:i,...m}),y=(s,k)=>{n(`/products/${s}`)};if(p)return e.jsx(b,{});if(u)return e.jsxs("div",{className:"py-4 md:p-4 space-y-4 md:space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Saved"})}),e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[e.jsx(AlertCircle,{className:"h-12 w-12 text-red-500"}),e.jsx("p",{className:"text-gray-600",children:"Failed to load products"}),e.jsx("button",{onClick:()=>g(),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90",children:"Try Again"})]})]});const t=c?.data,o=Array.isArray(t)?t:t?.products||[];Array.isArray(t)||t?.availableLocations;const l=c?.pagination?.totalPages||1;return o.length===0?e.jsxs("div",{className:"py-4 md:p-4 space-y-4 md:space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Saved"})}),e.jsx(P,{title:"No products found",description:"Check back later for new products",icon:e.jsx("img",{src:v,alt:"Product empty",className:"h-64 w-auto"}),className:"h-64"})]}):e.jsxs("div",{className:"py-4 md:p-4 space-y-4 md:space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Saved"})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:o.map(s=>e.jsx(N,{product:s,onProductClick:y},s.id||s._id))}),l>1&&e.jsx(f,{currentPage:r,totalPages:l,onPageChange:d})]})};export{R as default};
