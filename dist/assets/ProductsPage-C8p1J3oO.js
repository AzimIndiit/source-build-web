import{c as Ne,r as u,aH as Se,j as e,aI as ke,aJ as Pe,aK as F,aL as V,aM as I,aN as Ce,aO as De,aP as Re,a as W,a6 as X,a7 as Z,aQ as Ae,a8 as Me,a9 as Q,ah as O,R as ne,z as K,B as U,h as Te,ae as _e,i as Ee,an as Fe,S,u as Ie,at as ie,aC as re,aR as le,aS as H,am as Le,I as Be}from"./index-BCiIUrXb.js";import{P as ze}from"./pagination-wrapper-B_ZEmlQx.js";import{c as oe}from"./index-BdQq_4o_.js";import{u as Ke,a as Ve}from"./useProductMutations-BwEQtzFr.js";import"./PickupHoursSelector-BvNq3gU7.js";import{B as Y}from"./badge-C6OOTzUs.js";import{g as $e}from"./orderUtils-DR-jD4b-.js";import{T as Oe}from"./trash-2-Ct1NlBzh.js";import{f as He}from"./format-K4P4TTu3.js";import"./en-US-BQ62IwJd.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qe=Ne("circle-alert",Ue);var ce=["PageUp","PageDown"],de=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],me={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},L="Slider",[J,We,Ye]=Pe(L),[he,ks]=ke(L,[Ye]),[Ge,q]=he(L),xe=u.forwardRef((s,t)=>{const{name:n,min:i=0,max:a=100,step:c=1,orientation:l="horizontal",disabled:m=!1,minStepsBetweenThumbs:o=0,defaultValue:g=[i],value:f,onValueChange:h=()=>{},onValueCommit:y=()=>{},inverted:w=!1,form:d,...x}=s,b=u.useRef(new Set),p=u.useRef(0),P=l==="horizontal"?Xe:Ze,[v=[],M]=Se({prop:f,defaultProp:g,onChange:k=>{[...b.current][p.current]?.focus(),h(k)}}),B=u.useRef(v);function z(k){const r=ts(v,k);C(k,r)}function T(k){C(k,p.current)}function $(){const k=B.current[p.current];v[p.current]!==k&&y(v)}function C(k,r,{commit:N}={commit:!1}){const _=rs(c),E=ls(Math.round((k-i)/c)*c+i,_),A=oe(E,[i,a]);M((R=[])=>{const j=es(R,A,r);if(is(j,o*c)){p.current=j.indexOf(A);const ae=String(j)!==String(R);return ae&&N&&y(j),ae?j:R}else return R})}return e.jsx(Ge,{scope:s.__scopeSlider,name:n,disabled:m,min:i,max:a,valueIndexToChangeRef:p,thumbs:b.current,values:v,orientation:l,form:d,children:e.jsx(J.Provider,{scope:s.__scopeSlider,children:e.jsx(J.Slot,{scope:s.__scopeSlider,children:e.jsx(P,{"aria-disabled":m,"data-disabled":m?"":void 0,...x,ref:t,onPointerDown:F(x.onPointerDown,()=>{m||(B.current=v)}),min:i,max:a,inverted:w,onSlideStart:m?void 0:z,onSlideMove:m?void 0:T,onSlideEnd:m?void 0:$,onHomeKeyDown:()=>!m&&C(i,0,{commit:!0}),onEndKeyDown:()=>!m&&C(a,v.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:r})=>{if(!m){const E=ce.includes(k.key)||k.shiftKey&&de.includes(k.key)?10:1,A=p.current,R=v[A],j=c*E*r;C(R+j,A,{commit:!0})}}})})})})});xe.displayName=L;var[ue,pe]=he(L,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Xe=u.forwardRef((s,t)=>{const{min:n,max:i,dir:a,inverted:c,onSlideStart:l,onSlideMove:m,onSlideEnd:o,onStepKeyDown:g,...f}=s,[h,y]=u.useState(null),w=I(t,P=>y(P)),d=u.useRef(void 0),x=Ce(a),b=x==="ltr",p=b&&!c||!b&&c;function D(P){const v=d.current||h.getBoundingClientRect(),M=[0,v.width],z=te(M,p?[n,i]:[i,n]);return d.current=v,z(P-v.left)}return e.jsx(ue,{scope:s.__scopeSlider,startEdge:p?"left":"right",endEdge:p?"right":"left",direction:p?1:-1,size:"width",children:e.jsx(fe,{dir:x,"data-orientation":"horizontal",...f,ref:w,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:P=>{const v=D(P.clientX);l?.(v)},onSlideMove:P=>{const v=D(P.clientX);m?.(v)},onSlideEnd:()=>{d.current=void 0,o?.()},onStepKeyDown:P=>{const M=me[p?"from-left":"from-right"].includes(P.key);g?.({event:P,direction:M?-1:1})}})})}),Ze=u.forwardRef((s,t)=>{const{min:n,max:i,inverted:a,onSlideStart:c,onSlideMove:l,onSlideEnd:m,onStepKeyDown:o,...g}=s,f=u.useRef(null),h=I(t,f),y=u.useRef(void 0),w=!a;function d(x){const b=y.current||f.current.getBoundingClientRect(),p=[0,b.height],P=te(p,w?[i,n]:[n,i]);return y.current=b,P(x-b.top)}return e.jsx(ue,{scope:s.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:e.jsx(fe,{"data-orientation":"vertical",...g,ref:h,style:{...g.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const b=d(x.clientY);c?.(b)},onSlideMove:x=>{const b=d(x.clientY);l?.(b)},onSlideEnd:()=>{y.current=void 0,m?.()},onStepKeyDown:x=>{const p=me[w?"from-bottom":"from-top"].includes(x.key);o?.({event:x,direction:p?-1:1})}})})}),fe=u.forwardRef((s,t)=>{const{__scopeSlider:n,onSlideStart:i,onSlideMove:a,onSlideEnd:c,onHomeKeyDown:l,onEndKeyDown:m,onStepKeyDown:o,...g}=s,f=q(L,n);return e.jsx(V.span,{...g,ref:t,onKeyDown:F(s.onKeyDown,h=>{h.key==="Home"?(l(h),h.preventDefault()):h.key==="End"?(m(h),h.preventDefault()):ce.concat(de).includes(h.key)&&(o(h),h.preventDefault())}),onPointerDown:F(s.onPointerDown,h=>{const y=h.target;y.setPointerCapture(h.pointerId),h.preventDefault(),f.thumbs.has(y)?y.focus():i(h)}),onPointerMove:F(s.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&a(h)}),onPointerUp:F(s.onPointerUp,h=>{const y=h.target;y.hasPointerCapture(h.pointerId)&&(y.releasePointerCapture(h.pointerId),c(h))})})}),ge="SliderTrack",ye=u.forwardRef((s,t)=>{const{__scopeSlider:n,...i}=s,a=q(ge,n);return e.jsx(V.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...i,ref:t})});ye.displayName=ge;var ee="SliderRange",be=u.forwardRef((s,t)=>{const{__scopeSlider:n,...i}=s,a=q(ee,n),c=pe(ee,n),l=u.useRef(null),m=I(t,l),o=a.values.length,g=a.values.map(y=>ve(y,a.min,a.max)),f=o>1?Math.min(...g):0,h=100-Math.max(...g);return e.jsx(V.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...i,ref:m,style:{...s.style,[c.startEdge]:f+"%",[c.endEdge]:h+"%"}})});be.displayName=ee;var se="SliderThumb",je=u.forwardRef((s,t)=>{const n=We(s.__scopeSlider),[i,a]=u.useState(null),c=I(t,m=>a(m)),l=u.useMemo(()=>i?n().findIndex(m=>m.ref.current===i):-1,[n,i]);return e.jsx(Qe,{...s,ref:c,index:l})}),Qe=u.forwardRef((s,t)=>{const{__scopeSlider:n,index:i,name:a,...c}=s,l=q(se,n),m=pe(se,n),[o,g]=u.useState(null),f=I(t,D=>g(D)),h=o?l.form||!!o.closest("form"):!0,y=De(o),w=l.values[i],d=w===void 0?0:ve(w,l.min,l.max),x=ss(i,l.values.length),b=y?.[m.size],p=b?as(b,d,m.direction):0;return u.useEffect(()=>{if(o)return l.thumbs.add(o),()=>{l.thumbs.delete(o)}},[o,l.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[m.startEdge]:`calc(${d}% + ${p}px)`},children:[e.jsx(J.ItemSlot,{scope:s.__scopeSlider,children:e.jsx(V.span,{role:"slider","aria-label":s["aria-label"]||x,"aria-valuemin":l.min,"aria-valuenow":w,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...c,ref:f,style:w===void 0?{display:"none"}:s.style,onFocus:F(s.onFocus,()=>{l.valueIndexToChangeRef.current=i})})}),h&&e.jsx(we,{name:a??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:w},i)]})});je.displayName=se;var Je="RadioBubbleInput",we=u.forwardRef(({__scopeSlider:s,value:t,...n},i)=>{const a=u.useRef(null),c=I(a,i),l=Re(t);return u.useEffect(()=>{const m=a.current;if(!m)return;const o=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(o,"value").set;if(l!==t&&f){const h=new Event("input",{bubbles:!0});f.call(m,t),m.dispatchEvent(h)}},[l,t]),e.jsx(V.input,{style:{display:"none"},...n,ref:c,defaultValue:t})});we.displayName=Je;function es(s=[],t,n){const i=[...s];return i[n]=t,i.sort((a,c)=>a-c)}function ve(s,t,n){const c=100/(n-t)*(s-t);return oe(c,[0,100])}function ss(s,t){return t>2?`Value ${s+1} of ${t}`:t===2?["Minimum","Maximum"][s]:void 0}function ts(s,t){if(s.length===1)return 0;const n=s.map(a=>Math.abs(a-t)),i=Math.min(...n);return n.indexOf(i)}function as(s,t,n){const i=s/2,c=te([0,50],[0,i]);return(i-c(t)*n)*n}function ns(s){return s.slice(0,-1).map((t,n)=>s[n+1]-t)}function is(s,t){if(t>0){const n=ns(s);return Math.min(...n)>=t}return!0}function te(s,t){return n=>{if(s[0]===s[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(s[1]-s[0]);return t[0]+i*(n-s[0])}}function rs(s){return(String(s).split(".")[1]||"").length}function ls(s,t){const n=Math.pow(10,t);return Math.round(s*n)/n}var os=xe,cs=ye,ds=be,ms=je;function hs({className:s,defaultValue:t,value:n,min:i=0,max:a=100,...c}){const l=u.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[i,a],[n,t,i,a]);return e.jsxs(os,{"data-slot":"slider",defaultValue:t,value:n,min:i,max:a,className:W("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",s),...c,children:[e.jsx(cs,{"data-slot":"slider-track",className:W("bg-gray-100 relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:e.jsx(ds,{"data-slot":"slider-range",className:W("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:l.length},(m,o)=>e.jsx(ms,{"data-slot":"slider-thumb",className:"border-primary bg-white ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},o))]})}const G=({onApply:s,onClear:t,initialFilters:n})=>{const i={popularity:[{id:"best-selling",label:"Best-Selling Products",checked:!1},{id:"most-viewed",label:"Most Viewed",checked:!1},{id:"top-rated",label:"Top-Rated",checked:!1},{id:"most-reviewed",label:"Most Reviewed",checked:!1},{id:"featured",label:"Featured Products",checked:!1},{id:"trending",label:"Trending Now",checked:!1}],newest:[{id:"recently-updated",label:"Recently Updated",checked:!1},{id:"featured-new",label:"Featured New Products",checked:!1},{id:"sort-by-date",label:"Sort by Date Added",checked:!1},{id:"new-arrivals",label:"New Arrivals",checked:!1}],availability:[{id:"delivery",label:"Delivery",checked:!1},{id:"shipping",label:"Shipping",checked:!1},{id:"pickup",label:"Pickup",checked:!1}],readyTime:[{id:"next-day",label:"Ready Next Day",checked:!1},{id:"this-week",label:"Ready This Week",checked:!1}],sorting:"ascending",pricing:"high-to-low",priceRange:[]},[a,c]=u.useState(n||i),[l,m]=u.useState(!1);u.useEffect(()=>{l&&n&&c(n)},[l,n]);const o=(d,x)=>{c(b=>({...b,[d]:b[d].map(p=>p.id===x?{...p,checked:!p.checked}:p)}))},g=d=>{c(x=>({...x,sorting:d}))},f=d=>{c(x=>({...x,pricing:d}))},h=d=>{c(x=>({...x,priceRange:d}))},y=()=>{s(a),m(!1)},w=()=>{c(i),t()};return e.jsxs(X,{open:l,onOpenChange:m,children:[e.jsx(Z,{asChild:!0,children:e.jsx(Ae,{className:"flex items-center gap-2",children:e.jsx(Me,{className:"h-4 w-4 text-primary"})})}),e.jsxs(Q,{className:"w-[90vw] sm:w-[500px] md:w-[600px] max-w-[600px] max-h-[80vh] overflow-y-auto p-4 sm:p-5 md:p-6 shadow-lg border border-gray-200",align:"end",children:[e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:"Popularity"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:a.popularity.map(d=>e.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-sm border border-gray-200 cursor-pointer transition-colors",onClick:x=>{x.preventDefault(),o("popularity",d.id)},children:[e.jsx(O,{checked:d.checked,onCheckedChange:()=>{},className:"pointer-events-none h-4 w-4"}),e.jsx("span",{className:"text-sm select-none",children:d.label})]},d.id))})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:"Newest"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:a.newest.map(d=>e.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-sm border border-gray-200 cursor-pointer transition-colors",onClick:x=>{x.preventDefault(),o("newest",d.id)},children:[e.jsx(O,{checked:d.checked,onCheckedChange:()=>{},className:"pointer-events-none h-4 w-4"}),e.jsx("span",{className:"text-sm select-none",children:d.label})]},d.id))})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:"Availability Options"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:a.availability.map(d=>e.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-sm border border-gray-200 cursor-pointer transition-colors",onClick:x=>{x.preventDefault(),o("availability",d.id)},children:[e.jsx(O,{checked:d.checked,onCheckedChange:()=>{},className:"pointer-events-none h-4 w-4"}),e.jsx("span",{className:"text-sm select-none",children:d.label})]},d.id))})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:"Ready Time"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:a.readyTime.map(d=>e.jsxs("label",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-sm border border-gray-200 cursor-pointer transition-colors",onClick:x=>{x.preventDefault(),o("readyTime",d.id)},children:[e.jsx(O,{checked:d.checked,onCheckedChange:()=>{},className:"pointer-events-none h-4 w-4"}),e.jsx("span",{className:"text-sm select-none",children:d.label})]},d.id))})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:"A - Z"}),e.jsx(ne,{value:a.sorting,onValueChange:g,children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:`flex items-center space-x-2 cursor-pointer ${a.sorting==="ascending"?"text-primary":"text-gray-600"}`,children:[e.jsx(K,{value:"ascending",id:"ascending"}),e.jsx("span",{className:"text-sm",children:"A → Z (Ascending Order)"})]}),e.jsxs("label",{className:`flex items-center space-x-2 cursor-pointer ${a.sorting==="descending"?"text-primary":"text-gray-600"}`,children:[e.jsx(K,{value:"descending",id:"descending"}),e.jsx("span",{className:"text-sm",children:"Z → A (Descending Order)"})]})]})})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:"Pricing"}),e.jsx(ne,{value:a.pricing,onValueChange:f,children:e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsxs("label",{className:`flex items-center space-x-2 cursor-pointer ${a.pricing==="high-to-low"?"text-primary":"text-gray-600"}`,children:[e.jsx(K,{value:"high-to-low",id:"high-to-low"}),e.jsx("span",{className:"text-sm",children:"High to Low"})]}),e.jsxs("label",{className:`flex items-center space-x-2 cursor-pointer ${a.pricing==="low-to-high"?"text-primary":"text-gray-600"}`,children:[e.jsx(K,{value:"low-to-high",id:"low-to-high"}),e.jsx("span",{className:"text-sm",children:"Low to High"})]}),e.jsxs("label",{className:`flex items-center space-x-2 cursor-pointer ${a.pricing==="custom"?"text-primary":"text-gray-600"}`,children:[e.jsx(K,{value:"custom",id:"custom"}),e.jsx("span",{className:"text-sm",children:"Set a Custom limit"})]})]})}),a.pricing==="custom"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{className:"font-semibold",children:["$",a.priceRange[0]]}),e.jsxs("span",{className:"font-semibold",children:["$",a.priceRange[1]]})]}),e.jsx(hs,{value:a.priceRange,onValueChange:h,max:1e5,min:0,step:10,className:"w-full"})]})]}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx(U,{variant:"outline",onClick:w,className:"  w-[126px] h-[48px] !text-sm text-primary border border-gray-200-primary hover:bg-primary/10 hover:text-primary",children:"Clear All Filters"}),e.jsx(U,{onClick:y,className:"w-[126px] h-[48px] !text-sm  bg-primary hover:bg-primary/90 text-white",children:"Apply Filter"})]})]})]})},xs=({product:s,onProductClick:t,onEditProduct:n,onDeleteProduct:i})=>{const a=o=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(o),c=o=>{try{return He(new Date(o),"dd/MM/yyyy")}catch{return o}},l=o=>{if(o.locationIds&&o.locationIds.length>0){const g=o.locationIds[0];if(typeof g=="object"&&g.city){const f=`${g.city}, ${g.state||""}`.trim();return f.length>30?f.slice(0,30)+"...":f}}return"Location not specified"},m=o=>o.images&&o.images.length>0?o.images[0]:"https://placehold.co/300x200.png";return e.jsxs(Te,{className:"overflow-hidden border border-gray-200 rounded-xl hover:shadow-md transition-shadow p-0 cursor-pointer group gap-0",onClick:()=>t(s.slug,s.status),children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:m(s),alt:s.title,className:"w-full h-40 object-cover",onError:o=>{o.target.src="https://placehold.co/300x200.png"}}),s.quantity>0&&e.jsxs(Y,{className:"absolute bottom-2 left-2 bg-primary text-white rounded px-2 py-1 text-[11px]",children:["In Stock (",s.quantity,")"]}),s.quantity===0&&e.jsx(Y,{className:"absolute bottom-2 left-2 bg-gray-500 text-white rounded px-2 py-1 text-[11px]",children:"Out of Stock"}),e.jsx(Y,{className:_e("absolute bottom-2 right-2 rounded px-2 py-1 text-[11px] capitalize",$e(s.status)),children:s.status})]}),e.jsxs(Ee,{className:"p-3 space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center gap-2",children:[e.jsxs("div",{className:"text-[16px] font-semibold mb-1",children:[a(s.price)," per sq ft"]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(U,{title:"Edit",variant:"ghost",size:"icon",onClick:o=>n(o,s.id||s._id||""),className:"w-8 h-8 hover:bg-gray-200 text-gray-600 hover:text-gray-900 rounded-md",children:e.jsx(Fe,{className:"w-4 h-4"})}),e.jsx(U,{title:"Delete",variant:"ghost",size:"icon",onClick:o=>i(o,s.id||s._id||"",s.title),className:"w-8 h-8 hover:bg-red-50 text-red-600 hover:text-red-700 rounded-md",children:e.jsx(Oe,{className:"w-4 h-4"})})]})]}),e.jsx("p",{className:"text-[12px] text-gray-500 line-clamp-1 capitalize",children:s.category}),e.jsxs("p",{className:"text-[14px] text-gray-700 leading-snug line-clamp-1 mb-1 capitalize",children:[s.dimensions?`${s.dimensions.length} x ${s.dimensions.width} x ${s.dimensions.height} - `:""," ",s.title]}),e.jsxs("div",{className:"flex justify-between text-[12px] text-gray-500",children:[e.jsx("span",{className:"capitalize",children:l(s)}),e.jsx("span",{className:"text-primary capitalize",children:c(s.createdAt)})]})]})]})},us=()=>e.jsxs("div",{className:"py-4 md:p-4 space-y-4 md:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(S,{className:"h-8 w-32"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-10 w-32 rounded-lg"}),e.jsx(S,{className:"h-10 w-24 rounded-lg"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:Array.from({length:8}).map((s,t)=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx(S,{className:"w-full h-48"}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsx(S,{className:"h-5 w-full"}),e.jsx(S,{className:"h-4 w-3/4"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(S,{className:"h-6 w-20"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(S,{className:"h-4 w-4 rounded"}),e.jsx(S,{className:"h-4 w-8"})]})]}),e.jsx(S,{className:"h-3 w-24"}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(S,{className:"h-8 flex-1 rounded"}),e.jsx(S,{className:"h-8 w-8 rounded"}),e.jsx(S,{className:"h-8 w-8 rounded"})]})]})]},t))}),e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(S,{className:"h-10 w-10 rounded"}),e.jsx(S,{className:"h-10 w-10 rounded"}),e.jsx(S,{className:"h-10 w-10 rounded"}),e.jsx(S,{className:"h-10 w-16 rounded"}),e.jsx(S,{className:"h-10 w-10 rounded"}),e.jsx(S,{className:"h-10 w-10 rounded"})]})]}),Ps=()=>{const s=Ie(),[t,n]=u.useState(1),[i,a]=u.useState({sorting:"ascending"}),[c,l]=u.useState("all"),[m,o]=u.useState({popularity:[{id:"best-selling",label:"Best-Selling Products",checked:!1},{id:"most-viewed",label:"Most Viewed",checked:!1},{id:"top-rated",label:"Top-Rated",checked:!1},{id:"most-reviewed",label:"Most Reviewed",checked:!1},{id:"featured",label:"Featured Products",checked:!1},{id:"trending",label:"Trending Now",checked:!1}],newest:[{id:"recently-updated",label:"Recently Updated",checked:!1},{id:"featured-new",label:"Featured New Products",checked:!1},{id:"sort-by-date",label:"Sort by Date Added",checked:!1},{id:"new-arrivals",label:"New Arrivals",checked:!1}],availability:[{id:"delivery",label:"Delivery",checked:!1},{id:"shipping",label:"Shipping",checked:!1},{id:"pickup",label:"Pickup",checked:!1}],readyTime:[{id:"next-day",label:"Ready Next Day",checked:!1},{id:"this-week",label:"Ready This Week",checked:!1}],sorting:"ascending",pricing:"",priceRange:[]}),[g,f]=u.useState({isOpen:!1,productId:"",productTitle:""}),h=10,{data:y,isLoading:w,isError:d,refetch:x}=Ke({page:t,limit:h,location:c==="all"?void 0:c,...i}),b=Ve(),p=r=>{o(r);const N={},_=r.popularity.filter(j=>j.checked).map(j=>j.id);_.length>0&&(N.popularity=_);const E=r.newest.filter(j=>j.checked).map(j=>j.id);E.length>0&&(N.newest=E);const A=r.availability.filter(j=>j.checked).map(j=>j.id);A.length>0&&(N.availability=A);const R=r.readyTime.filter(j=>j.checked).map(j=>j.id);R.length>0&&(N.readyTime=R),r.sorting!=="ascending"&&(N.sorting=r.sorting),r.pricing!=="custom"&&r.pricing!==""?N.pricing=r.pricing:r.priceRange&&r.pricing!==""&&(N.pricing="custom",N.priceRange=r.priceRange.join(",")),a(N),n(1)},D=()=>{a({}),n(1),o({popularity:[{id:"best-selling",label:"Best-Selling Products",checked:!1},{id:"most-viewed",label:"Most Viewed",checked:!1},{id:"top-rated",label:"Top-Rated",checked:!1},{id:"most-reviewed",label:"Most Reviewed",checked:!1},{id:"featured",label:"Featured Products",checked:!1},{id:"trending",label:"Trending Now",checked:!1}],newest:[{id:"recently-updated",label:"Recently Updated",checked:!1},{id:"featured-new",label:"Featured New Products",checked:!1},{id:"sort-by-date",label:"Sort by Date Added",checked:!1},{id:"new-arrivals",label:"New Arrivals",checked:!1}],availability:[{id:"delivery",label:"Delivery",checked:!1},{id:"shipping",label:"Shipping",checked:!1},{id:"pickup",label:"Pickup",checked:!1}],readyTime:[{id:"next-day",label:"Ready Next Day",checked:!1},{id:"this-week",label:"Ready This Week",checked:!1}],sorting:"ascending",pricing:"",priceRange:[]})},P=(r,N)=>{if(N==="draft"){Be.error("Draft products are not available for preview");return}else s(`/seller/products/${r}`)},v=(r,N)=>{r.stopPropagation(),s(`/seller/products/${N}/edit`)},M=(r,N,_)=>{r.stopPropagation(),f({isOpen:!0,productId:N,productTitle:_})},B=async()=>{try{await b.mutateAsync(g.productId),f({isOpen:!1,productId:"",productTitle:""}),x()}catch(r){console.error("Failed to delete product:",r)}},z=()=>{f({isOpen:!1,productId:"",productTitle:""})};if(w)return e.jsx(us,{});if(d)return e.jsxs("div",{className:"py-4 md:p-4 space-y-4 md:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"My Listing"}),e.jsx(G,{onApply:p,onClear:D,initialFilters:m})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[e.jsx(qe,{className:"h-12 w-12 text-red-500"}),e.jsx("p",{className:"text-gray-600",children:"Failed to load products"}),e.jsx("button",{onClick:()=>x(),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90",children:"Try Again"})]})]});const T=y?.data,$=Array.isArray(T)?T:T?.products||[],C=Array.isArray(T)?[]:T?.availableLocations||[],k=y?.pagination?.totalPages||1;return $.length===0?e.jsxs("div",{className:"py-4 md:p-4 space-y-4 md:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"My Listing"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(X,{children:[e.jsx(Z,{asChild:!0,children:e.jsxs("button",{className:"bg-blue-50 flex gap-2 h-[42px] items-center px-2 md:px-3 py-2 rounded-lg hover:bg-blue-100 transition-colors outline-none cursor-pointer",children:[e.jsx(ie,{className:"w-5 h-5 text-gray-700"}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("span",{className:"text-xs text-gray-600 hidden md:block",children:"Location"}),e.jsxs("span",{className:"text-xs md:text-sm font-semibold text-gray-900 flex items-center gap-1",children:[c==="all"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden lg:inline",children:"All Locations"}),e.jsx("span",{className:"lg:hidden",children:"All"})]}):e.jsx(e.Fragment,{children:C.find(r=>r._id===c)?.displayName||C.find(r=>r._id===c)?.city||"Select Location"}),e.jsx(re,{size:12})]})]})]})}),e.jsxs(Q,{align:"start",className:"w-56",children:[e.jsx(le,{}),e.jsx(H,{className:"cursor-pointer",onClick:()=>l("all"),children:"All Locations"}),C.map(r=>e.jsx(H,{className:"cursor-pointer",onClick:()=>l(r._id),children:r.displayName||`${r.city}, ${r.state}`},r._id))]})]}),e.jsx(G,{onApply:p,onClear:D,initialFilters:m})]})]}),e.jsx("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:e.jsx("p",{className:"text-gray-600",children:"No products found"})})]}):e.jsxs("div",{className:"py-4 md:p-4 space-y-4 md:space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"My Listing"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(X,{children:[e.jsx(Z,{asChild:!0,children:e.jsxs("button",{className:"bg-blue-50 flex gap-2 h-[42px] items-center px-2 md:px-3 py-2 rounded-lg hover:bg-blue-100 transition-colors outline-none cursor-pointer",children:[e.jsx(ie,{className:"w-5 h-5 text-gray-700"}),e.jsxs("div",{className:"flex flex-col text-left",children:[e.jsx("span",{className:"text-xs text-gray-600 hidden md:block",children:"Location"}),e.jsxs("span",{className:"text-xs md:text-sm font-semibold text-gray-900 flex items-center gap-1",children:[c==="all"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden lg:inline",children:"All Locations"}),e.jsx("span",{className:"lg:hidden",children:"All"})]}):e.jsx(e.Fragment,{children:C.find(r=>r._id===c)?.displayName||C.find(r=>r._id===c)?.city||"Select Location"}),e.jsx(re,{size:12})]})]})]})}),e.jsxs(Q,{align:"start",className:"w-56",children:[e.jsx(le,{}),e.jsx(H,{className:"cursor-pointer",onClick:()=>l("all"),children:"All Locations"}),C.map(r=>e.jsx(H,{className:"cursor-pointer",onClick:()=>l(r._id),children:r.displayName||`${r.city}, ${r.state}`},r._id))]})]}),e.jsx(G,{onApply:p,onClear:D,initialFilters:m})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8",children:$.map(r=>e.jsx(xs,{product:r,onProductClick:P,onEditProduct:v,onDeleteProduct:M},r.id||r._id))}),k>1&&e.jsx(ze,{currentPage:t,totalPages:k,onPageChange:n}),e.jsx(Le,{isOpen:g.isOpen,onClose:z,onConfirm:B,title:"Delete Product",description:e.jsxs(e.Fragment,{children:["Are you sure you want to delete"," ",e.jsxs("strong",{className:"font-semibold",children:['"',g.productTitle,'"']}),"? This action cannot be undone."]}),confirmText:"Delete",cancelText:"Cancel",isLoading:b.isPending})]})};export{Ps as default};
