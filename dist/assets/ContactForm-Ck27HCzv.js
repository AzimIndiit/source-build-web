import{n as g,g as b,h as f,i as N,E as j,r as y,j as e,K as F,N as w,F as E,k as l,o as S,aI as v,B as C,$ as P,z as d,a2 as r,aG as V}from"./index-CUSVstqU.js";class L{async submitContactForm(n){return(await g.post("/contact",n)).data}}const M=new L,I=P({firstName:r().trim().min(1,"First name is required").min(2,"First name must be at least 2 characters").max(50,"First name must not exceed 50 characters"),lastName:r().trim().min(1,"Last name is required").min(2,"Last name must be at least 2 characters").max(50,"Last name must not exceed 50 characters"),email:r().min(1,"Email is required").email("Please enter valid email address"),phone:V,message:r().trim().min(10,"Message must be at least 10 characters").max(500,"Message must not exceed 500 characters")}),B=({initialData:c={firstName:"",lastName:"",email:"",phone:"",message:""},onSave:n})=>{const{user:s}=b(),a=f({resolver:N(I),defaultValues:c}),{handleSubmit:u,formState:{errors:q},reset:p}=a,m=j({mutationFn:M.submitContactForm,onSuccess:t=>{d.success(t.message||"Contact form submitted successfully"),p(),n?.(t.data)},onError:t=>{const i=t.response?.data?.message||"Failed to submit contact form";d.error(i)}}),x=async t=>{const i=Object.fromEntries(Object.entries(t).map(([h,o])=>[h,typeof o=="string"?o.trim():o]));m.mutate(i)};return y.useEffect(()=>{s&&(a.setValue("firstName",s.firstName),a.setValue("lastName",s.lastName),a.setValue("email",s.email),a.setValue("phone",s.phone||""))},[s]),e.jsx(e.Fragment,{children:e.jsx(F,{className:"bg-white border-gray-200 shadow-none",children:e.jsxs(w,{className:"p-4 sm:p-6",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold mb-4 sm:mb-6",children:"Contact Us"}),e.jsx(E,{...a,children:e.jsx("form",{onSubmit:u(x),className:"space-y-4 sm:space-y-6",children:e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx(l,{name:"firstName",label:"First Name",placeholder:"Enter your first name"}),e.jsx(l,{name:"lastName",label:"Last Name",placeholder:"Enter your last name"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[e.jsx(l,{name:"email",label:"Email",type:"email",placeholder:"Enter your email address",disabled:m.isPending}),e.jsx(S,{name:"phone",label:"Phone Number",disabled:m.isPending,placeholder:"(123) 456-7890",className:"text-base px-4 border-gray-300"})]}),e.jsx(v,{name:"message",label:"Message",placeholder:"Enter your message...",rows:5,className:"min-h-[120px]",maxLength:500}),e.jsx("div",{className:"pt-4 sm:pt-6 flex flex-col-reverse sm:flex-row items-center justify-end gap-4",children:e.jsx("div",{className:"w-full sm:w-auto",children:e.jsx(C,{type:"submit",disabled:m.isPending,className:"w-full sm:w-auto sm:min-w-[200px] md:min-w-[300px] lg:min-w-[469px] text-white px-6 sm:px-8 md:px-12 py-2.5 sm:py-3 rounded-lg font-medium text-sm sm:text-base disabled:opacity-50",children:m.isPending?"Submitting...":"Submit"})})})]})})})]})})})};export{B as default};
