import{A as k,c as S,u as P,af as q,j as e,B as r,C as d,k as O,ag as t,ah as x,ai as T}from"./index-BiCr9dd_.js";import{L as z}from"./LazyImage-B7kMTuiL.js";import{B}from"./breadcrumb-wrapper-448K_ANJ.js";import{g as m}from"./colorUtils-Cg0F6a_m.js";import{T as p}from"./trash-2-BSx2CMeK.js";import{M as F}from"./minus-D5glgwFc.js";import"./proxy-16hbtkMy.js";/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],L=k("shopping-bag",I),R=()=>{const l=S(),{user:h}=P(),{items:c,removeItem:u,updateQuantity:g,clearCart:y,getTotalPrice:j}=q(),n=j(),b=0,N=n*.08,f=n+b+N,v=[{label:"Home",href:"/"},{label:"Cart",isCurrentPage:!0}],o=(s,a,i)=>{const C=i?a+1:a-1;g(s,C)},w=()=>{h?l("/checkout"):l("/auth/login",{state:{from:{pathname:"/checkout"}}})};return c.length===0?e.jsxs("div",{className:"min-h-[600px] flex flex-col items-center justify-center px-4 text-center",children:[e.jsx(L,{className:"h-24 w-24 text-gray-300 mx-auto mb-6"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-500 mb-8 max-w-md",children:"Looks like you haven't added anything to your cart yet. Start shopping to find amazing products!"}),e.jsx(r,{onClick:()=>l("/marketplace"),className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"Continue Shopping"})]}):e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"",children:e.jsx(B,{items:v})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center gap-2 border-b pb-2 border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Cart"}),"("," ",e.jsxs("span",{className:"text-lg text-gray-600",children:[c.length," items"]}),")"]}),e.jsx("div",{className:"",children:e.jsx(r,{leftIcon:p,variant:"outline",onClick:y,className:"text-red-600 bg-white h-10 hover:text-red-700 border-red-200 hover:border-red-300",children:"Clear Cart"})})]}),e.jsx("div",{className:"space-y-4",children:c.map(s=>e.jsx(d,{className:"p-4 sm:p-6 border-gray-200",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(z,{src:s.image,alt:s.title,className:"rounded-lg",wrapperClassName:"w-24 h-24 sm:w-32 sm:h-32 rounded-lg overflow-hidden bg-gray-100",fallbackSrc:"https://placehold.co/150x150",objectFit:"cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(O,{to:`/products/${s.slug}`,className:"text-lg font-semibold text-gray-900 hover:text-primary transition-colors line-clamp-2",children:s.title}),s.color&&e.jsx("div",{className:"flex items-center gap-3 mt-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Color:"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-gray-300",style:{backgroundColor:s.color},title:m(s.color).name}),e.jsx("span",{className:"text-sm text-gray-700 capitalize",children:m(s.color).name})]})]})}),s.selectedOptions&&Object.keys(s.selectedOptions).length>0&&e.jsx("div",{className:"flex flex-wrap gap-3 mt-1",children:Object.entries(s.selectedOptions).map(([a,i])=>a==="color"?null:e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("span",{className:"capitalize",children:[a,":"]})," ",e.jsx("span",{className:"font-medium",children:i})]},a))}),s.seller&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Sold by: ",s.seller.businessName]})]}),e.jsx("button",{onClick:()=>u(s.id),className:"text-red-500 hover:text-red-600 transition-colors p-1 cursor-pointer","aria-label":"Remove item",children:e.jsx(p,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.originalPrice&&s.originalPrice>s.price&&e.jsx("span",{className:"text-base line-through text-gray-400",children:t(s.originalPrice)}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xl font-bold text-primary",children:t(s.price)}),e.jsx("span",{className:"text-sm text-gray-500",children:"/ each"})]}),s.discount&&s.discount.discountType!=="none"&&s.discount.discountValue&&e.jsx("span",{className:"text-sm font-semibold text-primary bg-primary/10 px-2 py-1 rounded",children:s.discount.discountType==="percentage"?`${s.discount.discountValue}% OFF`:`$${s.discount.discountValue} OFF`})]}),e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg",children:[e.jsx("button",{onClick:()=>o(s.id,s.quantity,!1),disabled:s.quantity<=1,className:x("p-2 hover:bg-gray-200 transition-colors rounded-l-lg cursor-pointer",s.quantity<=1&&"opacity-50 cursor-not-allowed"),children:e.jsx(F,{className:"h-4 w-4 text-gray-600"})}),e.jsx("span",{className:"px-4 py-2 text-sm font-semibold min-w-[50px] text-center",children:s.quantity}),e.jsx("button",{onClick:()=>o(s.id,s.quantity,!0),disabled:s.quantity>=s.maxQuantity,className:x("p-2 hover:bg-gray-200 transition-colors rounded-r-lg cursor-pointer",s.quantity>=s.maxQuantity&&"opacity-50 cursor-not-allowed"),children:e.jsx(T,{className:"h-4 w-4 text-gray-600"})})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Subtotal"}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:t(s.price*s.quantity)})]})})]})]})},s.id))})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(d,{className:"p-6 sticky top-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{className:"font-medium",children:t(n)})]}),e.jsx("div",{className:"border-t pt-3 border-gray-200",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total"}),e.jsx("span",{className:"text-lg font-bold text-primary",children:t(f)})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Promo Code"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Enter code",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary"}),e.jsx(r,{variant:"outline",className:"px-4",children:"Apply"})]})]}),e.jsx(r,{onClick:w,className:"w-full bg-primary hover:bg-primary/90 text-white font-semibold py-3 text-base",children:"Proceed to Checkout"}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"ðŸ”’ Secure checkout powered by Stripe"})})]})})]})]})};export{R as default};
